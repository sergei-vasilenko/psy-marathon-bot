var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(s)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e){for(const t of n)t(void 0);return t}const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function a(t,e,n){t.$$.on_destroy.push(c(e,n))}function u(t,e,n,s){if(t){const r=d(t,e,n,s);return t[0](r)}}function d(t,e,s,r){return t[1]&&r?n(s.ctx.slice(),t[1](r(e))):s.ctx}function $(t,e,n,s){if(t[2]&&s){const r=t[2](s(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|r[s];return t}return e.dirty|r}return e.dirty}function p(t,e,n,s,r,o){if(r){const l=d(e,n,s,o);t.p(l,r)}}function f(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function m(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function g(t,e){const n={};e=new Set(e);for(const s in t)e.has(s)||"$"===s[0]||(n[s]=t[s]);return n}function h(t){return null==t?"":t}const v="undefined"!=typeof window;let y=v?()=>window.performance.now():()=>Date.now(),x=v?t=>requestAnimationFrame(t):t;const _=new Set;function w(t){_.forEach((e=>{e.c(t)||(_.delete(e),e.f())})),0!==_.size&&x(w)}function b(t){let e;return 0===_.size&&x(w),{promise:new Promise((n=>{_.add(e={c:t,f:n})})),abort(){_.delete(e)}}}function k(t,e){t.appendChild(e)}function C(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function q(t){const e=T("style");return e.textContent="/* empty */",function(t,e){k(t.head||t,e),e.sheet}(C(t),e),e.sheet}function S(t,e,n){t.insertBefore(e,n||null)}function O(t){t.parentNode&&t.parentNode.removeChild(t)}function L(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function U(t){return document.createTextNode(t)}function P(){return U(" ")}function j(){return U("")}function E(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function R(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const M=["width","height"];function z(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const s in e)null==e[s]?t.removeAttribute(s):"style"===s?t.style.cssText=e[s]:"__value"===s?t.value=t[s]=e[s]:n[s]&&n[s].set&&-1===M.indexOf(s)?t[s]=e[s]:R(t,s,e[s])}function I(t){let e;return{p(...n){e=n,e.forEach((e=>t.push(e)))},r(){e.forEach((e=>t.splice(t.indexOf(e),1)))}}}function N(t){return""===t?null:+t}function A(t,e){e=""+e,t.data!==e&&(t.data=e)}function B(t,e){t.value=null==e?"":e}function W(t,e,n){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function D(t,e,n){t.classList.toggle(e,!!n)}function H(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}function F(t,e){return new t(e)}const G=new Map;let K,J=0;function Y(t,e,n,s,r,o,l,i=0){const c=16.666/s;let a="{\n";for(let t=0;t<=1;t+=c){const s=e+(n-e)*o(t);a+=100*t+`%{${l(s,1-s)}}\n`}const u=a+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`,$=C(t),{stylesheet:p,rules:f}=G.get($)||function(t,e){const n={stylesheet:q(e),rules:{}};return G.set(t,n),n}($,t);f[d]||(f[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${s}ms linear ${r}ms 1 both`,J+=1,d}function Q(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-s.length;r&&(t.style.animation=s.join(", "),J-=r,J||x((()=>{J||(G.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&O(e)})),G.clear())})))}function V(t){K=t}function X(){if(!K)throw new Error("Function called outside component initialization");return K}function Z(t){X().$$.on_mount.push(t)}function tt(){const t=X();return(e,n,{cancelable:s=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=H(e,n,{cancelable:s});return r.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function et(t,e){return X().$$.context.set(t,e),e}function nt(t){return X().$$.context.get(t)}const st=[],rt=[];let ot=[];const lt=[],it=Promise.resolve();let ct=!1;function at(t){ot.push(t)}const ut=new Set;let dt,$t=0;function pt(){if(0!==$t)return;const t=K;do{try{for(;$t<st.length;){const t=st[$t];$t++,V(t),ft(t.$$)}}catch(t){throw st.length=0,$t=0,t}for(V(null),st.length=0,$t=0;rt.length;)rt.pop()();for(let t=0;t<ot.length;t+=1){const e=ot[t];ut.has(e)||(ut.add(e),e())}ot.length=0}while(st.length);for(;lt.length;)lt.pop()();ct=!1,ut.clear(),V(t)}function ft(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(at)}}function mt(){return dt||(dt=Promise.resolve(),dt.then((()=>{dt=null}))),dt}function gt(t,e,n){t.dispatchEvent(H(`${e?"intro":"outro"}${n}`))}const ht=new Set;let vt;function yt(){vt={r:0,c:[],p:vt}}function xt(){vt.r||o(vt.c),vt=vt.p}function _t(t,e){t&&t.i&&(ht.delete(t),t.i(e))}function wt(t,e,n,s){if(t&&t.o){if(ht.has(t))return;ht.add(t),vt.c.push((()=>{ht.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}else s&&s()}const bt={duration:0};function kt(t,e){const n=e.token={};function s(t,s,r,o){if(e.token!==n)return;e.resolved=o;let l=e.ctx;void 0!==r&&(l=l.slice(),l[r]=o);const i=t&&(e.current=t)(l);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==s&&t&&(yt(),wt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),xt())})):e.block.d(1),i.c(),_t(i,1),i.m(e.mount(),e.anchor),c=!0),e.block=i,e.blocks&&(e.blocks[s]=i),c&&pt()}if(!(r=t)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then){if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}else{const n=X();if(t.then((t=>{V(n),s(e.then,1,e.value,t),V(null)}),(t=>{if(V(n),s(e.catch,2,e.error,t),V(null),!e.hasCatch)throw t})),e.current!==e.pending)return s(e.pending,0),!0}var r}function Ct(t){return void 0!==t?.length?t:Array.from(t)}function qt(t,e){t.d(1),e.delete(t.key)}function St(t,e){wt(t,1,1,(()=>{e.delete(t.key)}))}function Ot(t,e,n,s,r,l,i,c,a,u,d,$){let p=t.length,f=l.length,m=p;const g={};for(;m--;)g[t[m].key]=m;const h=[],v=new Map,y=new Map,x=[];for(m=f;m--;){const t=$(r,l,m),o=n(t);let c=i.get(o);c?s&&x.push((()=>c.p(t,e))):(c=u(o,t),c.c()),v.set(o,h[m]=c),o in g&&y.set(o,Math.abs(m-g[o]))}const _=new Set,w=new Set;function b(t){_t(t,1),t.m(c,d),i.set(t.key,t),d=t.first,f--}for(;p&&f;){const e=h[f-1],n=t[p-1],s=e.key,r=n.key;e===n?(d=e.first,p--,f--):v.has(r)?!i.has(s)||_.has(s)?b(e):w.has(r)?p--:y.get(s)>y.get(r)?(w.add(s),b(e)):(_.add(r),p--):(a(n,i),p--)}for(;p--;){const e=t[p];v.has(e.key)||a(e,i)}for(;f;)b(h[f-1]);return o(x),h}function Lt(t,e){const n={},s={},r={$$scope:1};let o=t.length;for(;o--;){const l=t[o],i=e[o];if(i){for(const t in l)t in i||(s[t]=1);for(const t in i)r[t]||(n[t]=i[t],r[t]=1);t[o]=i}else for(const t in l)r[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}function Tt(t){return"object"==typeof t&&null!==t?t:{}}function Ut(t){t&&t.c()}function Pt(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),at((()=>{const e=t.$$.on_mount.map(s).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),i.forEach(at)}function jt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];ot.forEach((s=>-1===t.indexOf(s)?e.push(s):n.push(s))),n.forEach((t=>t())),ot=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Et(t,e){-1===t.$$.dirty[0]&&(st.push(t),ct||(ct=!0,it.then(pt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Rt(e,n,s,l,i,c,a=null,u=[-1]){const d=K;V(e);const $=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:i,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a($.root);let p=!1;if($.ctx=s?s(e,n.props||{},((t,n,...s)=>{const r=s.length?s[0]:n;return $.ctx&&i($.ctx[t],$.ctx[t]=r)&&(!$.skip_bound&&$.bound[t]&&$.bound[t](r),p&&Et(e,t)),n})):[],$.update(),p=!0,o($.before_update),$.fragment=!!l&&l($.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);$.fragment&&$.fragment.l(t),t.forEach(O)}else $.fragment&&$.fragment.c();n.intro&&_t(e.$$.fragment),Pt(e,n.target,n.anchor),pt()}V(d)}class Mt{$$=void 0;$$set=void 0;$destroy(){jt(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const zt={},It={},Nt={},At=/^:(.+)/,Bt=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),Wt=t=>t.replace(/(^\/+|\/+$)/g,""),Dt=(t,e)=>({route:t,score:t.default?0:Bt(t.path).reduce(((t,e)=>(t+=4,""===e?t+=1:At.test(e)?t+=2:"*"===e[0]?t-=5:t+=3,t)),0),index:e}),Ht=(t,e)=>{let n,s;const[r]=e.split("?"),o=Bt(r),l=""===o[0],i=(t=>t.map(Dt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index)))(t);for(let t=0,r=i.length;t<r;t++){const r=i[t].route;let c=!1;if(r.default){s={route:r,params:{},uri:e};continue}const a=Bt(r.path),u={},d=Math.max(o.length,a.length);let $=0;for(;$<d;$++){const t=a[$],e=o[$];if(t&&"*"===t[0]){u["*"===t?"*":t.slice(1)]=o.slice($).map(decodeURIComponent).join("/");break}if(void 0===e){c=!0;break}const n=At.exec(t);if(n&&!l){const t=decodeURIComponent(e);u[n[1]]=t}else if(t!==e){c=!0;break}}if(!c){n={route:r,params:u,uri:"/"+o.slice(0,$).join("/")};break}}return n||s||null},Ft=(t,e)=>t+(e?`?${e}`:""),Gt=(t,e)=>`${Wt("/"===e?t:`${Wt(t)}/${Wt(e)}`)}/`,Kt=()=>"undefined"!=typeof window&&"document"in window&&"location"in window,Jt=t=>({active:4&t}),Yt=t=>({active:!!t[2]});function Qt(t){let e,s,r,o;const l=t[17].default,i=u(l,t,t[16],Yt);let c=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],a={};for(let t=0;t<c.length;t+=1)a=n(a,c[t]);return{c(){e=T("a"),i&&i.c(),z(e,a)},m(n,l){S(n,e,l),i&&i.m(e,null),s=!0,r||(o=E(e,"click",t[5]),r=!0)},p(t,[n]){i&&i.p&&(!s||65540&n)&&p(i,l,t,t[16],s?$(l,t[16],n,Jt):f(t[16]),Yt),z(e,a=Lt(c,[(!s||1&n)&&{href:t[0]},(!s||4&n)&&{"aria-current":t[2]},2&n&&t[1],64&n&&t[6]]))},i(t){s||(_t(i,t),s=!0)},o(t){wt(i,t),s=!1},d(t){t&&O(e),i&&i.d(t),r=!1,o()}}}function Vt(t,e,s){let r;const o=["to","replace","state","getProps","preserveScroll"];let l,i,c=g(e,o),{$$slots:u={},$$scope:d}=e,{to:$="#"}=e,{replace:p=!1}=e,{state:f={}}=e,{getProps:h=(()=>({}))}=e,{preserveScroll:v=!1}=e;const y=nt(zt);a(t,y,(t=>s(14,l=t)));const{base:x}=nt(It);a(t,x,(t=>s(15,i=t)));const{navigate:_}=nt(Nt),w=tt();let b,k,C,q;return t.$$set=t=>{e=n(n({},e),m(t)),s(6,c=g(e,o)),"to"in t&&s(7,$=t.to),"replace"in t&&s(8,p=t.replace),"state"in t&&s(9,f=t.state),"getProps"in t&&s(10,h=t.getProps),"preserveScroll"in t&&s(11,v=t.preserveScroll),"$$scope"in t&&s(16,d=t.$$scope)},t.$$.update=()=>{32896&t.$$.dirty&&s(0,b=((t,e)=>{if(t.startsWith("/"))return t;const[n,s]=t.split("?"),[r]=e.split("?"),o=Bt(n),l=Bt(r);if(""===o[0])return Ft(r,s);if(!o[0].startsWith(".")){const t=l.concat(o).join("/");return Ft(("/"===r?"":"/")+t,s)}const i=l.concat(o),c=[];return i.forEach((t=>{".."===t?c.pop():"."!==t&&c.push(t)})),Ft("/"+c.join("/"),s)})($,i.uri)),16385&t.$$.dirty&&s(12,k=l.pathname.startsWith(b)),16385&t.$$.dirty&&s(13,C=b===l.pathname),8192&t.$$.dirty&&s(2,r=C?"page":void 0),s(1,q=h({location:l,href:b,isPartiallyCurrent:k,isCurrent:C,existingProps:c}))},[b,q,r,y,x,t=>{if(w("click",t),(t=>!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey))(t)){t.preventDefault();const e=l.pathname===b||p;_(b,{state:f,replace:e,preserveScroll:v})}},c,$,p,f,h,v,k,C,l,i,d,u]}class Xt extends Mt{constructor(t){super(),Rt(this,t,Vt,Qt,i,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const Zt=t=>({params:4&t}),te=t=>({params:t[2]});function ee(t){let e,n,s,r;const o=[se,ne],l=[];function i(t,e){return t[0]?0:1}return e=i(t),n=l[e]=o[e](t),{c(){n.c(),s=j()},m(t,n){l[e].m(t,n),S(t,s,n),r=!0},p(t,r){let c=e;e=i(t),e===c?l[e].p(t,r):(yt(),wt(l[c],1,1,(()=>{l[c]=null})),xt(),n=l[e],n?n.p(t,r):(n=l[e]=o[e](t),n.c()),_t(n,1),n.m(s.parentNode,s))},i(t){r||(_t(n),r=!0)},o(t){wt(n),r=!1},d(t){t&&O(s),l[e].d(t)}}}function ne(t){let e;const n=t[8].default,s=u(n,t,t[7],te);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,r){s&&s.p&&(!e||132&r)&&p(s,n,t,t[7],e?$(n,t[7],r,Zt):f(t[7]),te)},i(t){e||(_t(s,t),e=!0)},o(t){wt(s,t),e=!1},d(t){s&&s.d(t)}}}function se(t){let e,n,s,r={ctx:t,current:null,token:null,hasCatch:!1,pending:le,then:oe,catch:re,value:12,blocks:[,,,]};return kt(n=t[0],r),{c(){e=j(),r.block.c()},m(t,n){S(t,e,n),r.block.m(t,r.anchor=n),r.mount=()=>e.parentNode,r.anchor=e,s=!0},p(e,s){t=e,r.ctx=t,1&s&&n!==(n=t[0])&&kt(n,r)||function(t,e,n){const s=e.slice(),{resolved:r}=t;t.current===t.then&&(s[t.value]=r),t.current===t.catch&&(s[t.error]=r),t.block.p(s,n)}(r,t,s)},i(t){s||(_t(r.block),s=!0)},o(t){for(let t=0;t<3;t+=1){wt(r.blocks[t])}s=!1},d(t){t&&O(e),r.block.d(t),r.token=null,r=null}}}function re(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function oe(t){let e,s,r;const o=[t[2],t[3]];var l=t[12]?.default||t[12];function i(t,e){let s={};for(let t=0;t<o.length;t+=1)s=n(s,o[t]);return void 0!==e&&12&e&&(s=n(s,Lt(o,[4&e&&Tt(t[2]),8&e&&Tt(t[3])]))),{props:s}}return l&&(e=F(l,i(t))),{c(){e&&Ut(e.$$.fragment),s=j()},m(t,n){e&&Pt(e,t,n),S(t,s,n),r=!0},p(t,n){if(1&n&&l!==(l=t[12]?.default||t[12])){if(e){yt();const t=e;wt(t.$$.fragment,1,0,(()=>{jt(t,1)})),xt()}l?(e=F(l,i(t,n)),Ut(e.$$.fragment),_t(e.$$.fragment,1),Pt(e,s.parentNode,s)):e=null}else if(l){const s=12&n?Lt(o,[4&n&&Tt(t[2]),8&n&&Tt(t[3])]):{};e.$set(s)}},i(t){r||(e&&_t(e.$$.fragment,t),r=!0)},o(t){e&&wt(e.$$.fragment,t),r=!1},d(t){t&&O(s),e&&jt(e,t)}}}function le(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ie(t){let e,n,s=t[1]&&t[1].route===t[5]&&ee(t);return{c(){s&&s.c(),e=j()},m(t,r){s&&s.m(t,r),S(t,e,r),n=!0},p(t,[n]){t[1]&&t[1].route===t[5]?s?(s.p(t,n),2&n&&_t(s,1)):(s=ee(t),s.c(),_t(s,1),s.m(e.parentNode,e)):s&&(yt(),wt(s,1,1,(()=>{s=null})),xt())},i(t){n||(_t(s),n=!0)},o(t){wt(s),n=!1},d(t){t&&O(e),s&&s.d(t)}}}function ce(t,e,s){let r,{$$slots:o={},$$scope:l}=e,{path:i=""}=e,{component:c=null}=e,u={},d={};const{registerRoute:$,unregisterRoute:p,activeRoute:f}=nt(It);a(t,f,(t=>s(1,r=t)));const g={path:i,default:""===i};var h;return $(g),h=()=>{p(g)},X().$$.on_destroy.push(h),t.$$set=t=>{s(11,e=n(n({},e),m(t))),"path"in t&&s(6,i=t.path),"component"in t&&s(0,c=t.component),"$$scope"in t&&s(7,l=t.$$scope)},t.$$.update=()=>{if(r&&r.route===g){s(2,u=r.params);const{component:t,path:n,...o}=e;s(3,d=o),t&&(t.toString().startsWith("class ")?s(0,c=t):s(0,c=t())),Kt()&&!r.preserveScroll&&window?.scrollTo(0,0)}},e=m(e),[c,r,u,d,f,g,i,l,o]}class ae extends Mt{constructor(t){super(),Rt(this,t,ce,ie,i,{path:6,component:0})}}const ue=[];function de(e,n=t){let s;const r=new Set;function o(t){if(i(e,t)&&(e=t,s)){const t=!ue.length;for(const t of r)t[1](),ue.push(t,e);if(t){for(let t=0;t<ue.length;t+=2)ue[t][0](ue[t+1]);ue.length=0}}}function l(t){o(t(e))}return{set:o,update:l,subscribe:function(i,c=t){const a=[i,c];return r.add(a),1===r.size&&(s=n(o,l)||t),i(e),()=>{r.delete(a),0===r.size&&s&&(s(),s=null)}}}}function $e(e,n,s){const r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=n.length<2;return u=(e,s)=>{let u=!1;const d=[];let $=0,p=t;const f=()=>{if($)return;p();const o=n(r?d[0]:d,e,s);a?e(o):p=l(o)?o:t},m=i.map(((t,e)=>c(t,(t=>{d[e]=t,$&=~(1<<e),u&&f()}),(()=>{$|=1<<e}))));return u=!0,f(),function(){o(m),p(),u=!1}},{subscribe:de(s,u).subscribe};var u}const pe=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),fe=(t=>{const e=[];let n=pe(t);return{get location(){return n},listen(s){e.push(s);const r=()=>{n=pe(t),s({location:n,action:"POP"})};return t.addEventListener("popstate",r),()=>{t.removeEventListener("popstate",r);const n=e.indexOf(s);e.splice(n,1)}},navigate(s,{state:r,replace:o=!1,preserveScroll:l=!1,blurActiveElement:i=!0}={}){r={...r,key:Date.now()+""};try{o?t.history.replaceState(r,"",s):t.history.pushState(r,"",s)}catch(e){t.location[o?"replace":"assign"](s)}n=pe(t),e.forEach((t=>t({location:n,action:"PUSH",preserveScroll:l}))),i&&document.activeElement.blur()}}})(Kt()?window:((t="/")=>{let e=0;const n=[{pathname:t,search:""}],s=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return s[e]},pushState(t,r,o){const[l,i=""]=o.split("?");e++,n.push({pathname:l,search:i}),s.push(t)},replaceState(t,r,o){const[l,i=""]=o.split("?");n[e]={pathname:l,search:i},s[e]=t}}}})()),{navigate:me}=fe,ge=t=>({route:4&t,location:2&t}),he=t=>({route:t[2]&&t[2].uri,location:t[1]}),ve=t=>({route:4&t,location:2&t}),ye=t=>({route:t[2]&&t[2].uri,location:t[1]});function xe(t){let e;const n=t[15].default,s=u(n,t,t[14],he);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,r){s&&s.p&&(!e||16390&r)&&p(s,n,t,t[14],e?$(n,t[14],r,ge):f(t[14]),he)},i(t){e||(_t(s,t),e=!0)},o(t){wt(s,t),e=!1},d(t){s&&s.d(t)}}}function _e(e){let n,s,r=e[1].pathname,o=we(e);return{c(){o.c(),n=j()},m(t,e){o.m(t,e),S(t,n,e),s=!0},p(e,s){2&s&&i(r,r=e[1].pathname)?(yt(),wt(o,1,1,t),xt(),o=we(e),o.c(),_t(o,1),o.m(n.parentNode,n)):o.p(e,s)},i(t){s||(_t(o),s=!0)},o(t){wt(o),s=!1},d(t){t&&O(n),o.d(t)}}}function we(n){let s,r,i,c;const a=n[15].default,d=u(a,n,n[14],ye);return{c(){s=T("div"),d&&d.c()},m(t,e){S(t,s,e),d&&d.m(s,null),c=!0},p(t,e){d&&d.p&&(!c||16390&e)&&p(d,a,t,t[14],c?$(a,t[14],e,ve):f(t[14]),ye)},i(o){c||(_t(d,o),o&&at((()=>{c&&(i&&i.end(1),r=function(n,s,r){const o={direction:"in"};let i,c,a=s(n,r,o),u=!1,d=0;function $(){i&&Q(n,i)}function p(){const{delay:s=0,duration:r=300,easing:o=e,tick:l=t,css:p}=a||bt;p&&(i=Y(n,0,1,r,s,o,p,d++)),l(0,1);const f=y()+s,m=f+r;c&&c.abort(),u=!0,at((()=>gt(n,!0,"start"))),c=b((t=>{if(u){if(t>=m)return l(1,0),gt(n,!0,"end"),$(),u=!1;if(t>=f){const e=o((t-f)/r);l(e,1-e)}}return u}))}let f=!1;return{start(){f||(f=!0,Q(n),l(a)?(a=a(o),mt().then(p)):p())},invalidate(){f=!1},end(){u&&($(),u=!1)}}}(s,n[3],{}),r.start())})),c=!0)},o(a){wt(d,a),r&&r.invalidate(),a&&(i=function(n,s,r){const i={direction:"out"};let c,a=s(n,r,i),u=!0;const d=vt;let $;function p(){const{delay:s=0,duration:r=300,easing:l=e,tick:i=t,css:p}=a||bt;p&&(c=Y(n,1,0,r,s,l,p));const f=y()+s,m=f+r;at((()=>gt(n,!1,"start"))),"inert"in n&&($=n.inert,n.inert=!0),b((t=>{if(u){if(t>=m)return i(0,1),gt(n,!1,"end"),--d.r||o(d.c),!1;if(t>=f){const e=l((t-f)/r);i(1-e,e)}}return u}))}return d.r+=1,l(a)?mt().then((()=>{a=a(i),p()})):p(),{end(t){t&&"inert"in n&&(n.inert=$),t&&a.tick&&a.tick(1,0),u&&(c&&Q(n,c),u=!1)}}}(s,n[3],{})),c=!1},d(t){t&&O(s),d&&d.d(t),t&&i&&i.end()}}}function be(t){let e,n,s,r;const o=[_e,xe],l=[];function i(t,e){return t[0]?0:1}return e=i(t),n=l[e]=o[e](t),{c(){n.c(),s=j()},m(t,n){l[e].m(t,n),S(t,s,n),r=!0},p(t,[r]){let c=e;e=i(t),e===c?l[e].p(t,r):(yt(),wt(l[c],1,1,(()=>{l[c]=null})),xt(),n=l[e],n?n.p(t,r):(n=l[e]=o[e](t),n.c()),_t(n,1),n.m(s.parentNode,s))},i(t){r||(_t(n),r=!0)},o(t){wt(n),r=!1},d(t){t&&O(s),l[e].d(t)}}}function ke(t,e,n){let s,r,o,l,{$$slots:i={},$$scope:c}=e,{basepath:u="/"}=e,{url:d=null}=e,{viewtransition:$=null}=e,{history:p=fe}=e;et(Nt,p);const f=nt(zt),m=nt(It),g=de([]);a(t,g,(t=>n(12,r=t)));const h=de(null);a(t,h,(t=>n(2,l=t)));let v=!1;const y=f||de(d?{pathname:d}:p.location);a(t,y,(t=>n(1,s=t)));const x=m?m.routerBase:de({path:u,uri:u});a(t,x,(t=>n(13,o=t)));const _=$e([x,h],(([t,e])=>{if(!e)return t;const{path:n}=t,{route:s,uri:r}=e;return{path:s.default?n:s.path.replace(/\*.*$/,""),uri:r}}));let w=!1;return f||(Z((()=>p.listen((t=>{n(11,w=t.preserveScroll||!1),y.set(t.location)})))),et(zt,y)),et(It,{activeRoute:h,base:x,routerBase:_,registerRoute:t=>{const{path:e}=o;let{path:n}=t;if(t._path=n,t.path=Gt(e,n),"undefined"==typeof window){if(v)return;const e=Ht([t],s.pathname);e&&(h.set(e),v=!0)}else g.update((e=>[...e,t]))},unregisterRoute:t=>{g.update((e=>e.filter((e=>e!==t))))}}),t.$$set=t=>{"basepath"in t&&n(8,u=t.basepath),"url"in t&&n(9,d=t.url),"viewtransition"in t&&n(0,$=t.viewtransition),"history"in t&&n(10,p=t.history),"$$scope"in t&&n(14,c=t.$$scope)},t.$$.update=()=>{if(8192&t.$$.dirty){const{path:t}=o;g.update((e=>e.map((e=>Object.assign(e,{path:Gt(t,e._path)})))))}if(6146&t.$$.dirty){const t=Ht(r,s.pathname);h.set(t?{...t,preserveScroll:w}:t)}},[$,s,l,(t,e,n)=>{const s=$(n);return"function"==typeof s?.fn?s.fn(t,s):s},g,h,y,x,u,d,p,w,r,o,c,i]}class Ce extends Mt{constructor(t){super(),Rt(this,t,ke,be,i,{basepath:8,url:9,viewtransition:0,history:10})}}const qe="/admin",Se=de(!1),Oe=de([]),Le=de([]);function Te(t,e,n){const s=t.slice();return s[3]=e[n],s}function Ue(e){let n,s=e[3].title+"";return{c(){n=U(s)},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function Pe(t,e){let n,s,r,o;return s=new Xt({props:{to:e[3].path.slice(1),$$slots:{default:[Ue]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=T("li"),Ut(s.$$.fragment),r=P(),R(n,"class","navbar__routes-item svelte-148mnmz"),D(n,"active",e[0]===e[3].path),this.first=n},m(t,e){S(t,n,e),Pt(s,n,null),k(n,r),o=!0},p(t,r){e=t;const l={};64&r&&(l.$$scope={dirty:r,ctx:e}),s.$set(l),(!o||3&r)&&D(n,"active",e[0]===e[3].path)},i(t){o||(_t(s.$$.fragment,t),o=!0)},o(t){wt(s.$$.fragment,t),o=!1},d(t){t&&O(n),jt(s)}}}function je(t){let e,n,s,r=[],o=new Map,l=Ct(t[1]);const i=t=>t[3].path;for(let e=0;e<l.length;e+=1){let n=Te(t,l,e),s=i(n);o.set(s,r[e]=Pe(s,n))}return{c(){e=T("div"),n=T("ul");for(let t=0;t<r.length;t+=1)r[t].c();R(n,"class","navbar__routes svelte-148mnmz"),R(e,"class","navbar svelte-148mnmz")},m(t,o){S(t,e,o),k(e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(n,null);s=!0},p(t,[e]){3&e&&(l=Ct(t[1]),yt(),r=Ot(r,e,i,1,t,l,o,n,St,Pe,null,Te),xt())},i(t){if(!s){for(let t=0;t<l.length;t+=1)_t(r[t]);s=!0}},o(t){for(let t=0;t<r.length;t+=1)wt(r[t]);s=!1},d(t){t&&O(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Ee(t,e,n){let s;a(t,Se,(t=>n(2,s=t)));const r=Xo.filter((t=>!t.isHidden));let o="/";return nt(zt).subscribe((({pathname:t})=>{if(n(0,o=t.replace(qe,"")),"/auth"!==o&&!s)return void me(`${qe}/auth`,{replace:!0});const e=Xo.find((t=>t.path===o));document.title=e?e.title:"Admin panel"})),[o,r]}class Re extends Mt{constructor(t){super(),Rt(this,t,Ee,je,i,{})}}function Me(t){let e,n,s,r,o,l=t[1]?"есть несохраненные данные":"все данные сохранены";return{c(){e=T("div"),n=T("div"),s=P(),r=T("div"),o=U(l),R(n,"class","led__light svelte-txq9l9"),D(n,"led__light--warning",t[1]),R(r,"class","led__text svelte-txq9l9"),R(e,"class","led svelte-txq9l9")},m(t,l){S(t,e,l),k(e,n),k(e,s),k(e,r),k(r,o)},p(t,e){2&e&&D(n,"led__light--warning",t[1]),2&e&&l!==(l=t[1]?"есть несохраненные данные":"все данные сохранены")&&A(o,l)},d(t){t&&O(e)}}}function ze(t){let e,n,s,r,o,l,i,c,a;n=new Re({});let d="boolean"==typeof t[1]&&Me(t);const m=t[3].default,g=u(m,t,t[2],null);return{c(){e=T("main"),Ut(n.$$.fragment),s=P(),r=T("div"),d&&d.c(),o=P(),l=T("h1"),i=U(t[0]),c=P(),g&&g.c(),R(l,"class","main__heading"),R(r,"class","content svelte-txq9l9"),R(e,"class","main svelte-txq9l9")},m(t,u){S(t,e,u),Pt(n,e,null),k(e,s),k(e,r),d&&d.m(r,null),k(r,o),k(r,l),k(l,i),k(r,c),g&&g.m(r,null),a=!0},p(t,[e]){"boolean"==typeof t[1]?d?d.p(t,e):(d=Me(t),d.c(),d.m(r,o)):d&&(d.d(1),d=null),(!a||1&e)&&A(i,t[0]),g&&g.p&&(!a||4&e)&&p(g,m,t,t[2],a?$(m,t[2],e,null):f(t[2]),null)},i(t){a||(_t(n.$$.fragment,t),_t(g,t),a=!0)},o(t){wt(n.$$.fragment,t),wt(g,t),a=!1},d(t){t&&O(e),jt(n),d&&d.d(),g&&g.d(t)}}}function Ie(t,e,n){let{$$slots:s={},$$scope:r}=e,{h1:o=""}=e,{hasUnsavedChanges:l}=e;return t.$$set=t=>{"h1"in t&&n(0,o=t.h1),"hasUnsavedChanges"in t&&n(1,l=t.hasUnsavedChanges),"$$scope"in t&&n(2,r=t.$$scope)},[o,l,r,s]}class Ne extends Mt{constructor(t){super(),Rt(this,t,Ie,ze,i,{h1:0,hasUnsavedChanges:1})}}function Ae(e){let n;return{c(){n=T("section"),n.innerHTML="<div>Добро пожаловать в админ-панель.</div> <div>Здесь вы можете увидеть актуальное состояние участников марафона, а также\n      создать свой сценарий его проведения.</div> <div>Шаги создания сценария:\n      <ol><li>в разделе &quot;Напоминания&quot; создайте варианты напоминаний, которые можно\n          будет установить в вашем сценарии</li> <li>в разделе &quot;Кнопки&quot; создайте псевдонимы для действий пользователя</li> <li>создавайте сцены и шаги в разделе &quot;Сценарий&quot;</li></ol></div>"},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function Be(t){let e,n;return e=new Ne({props:{h1:"Админ панель",$$slots:{default:[Ae]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function We(t){let e;const n=t[7].default,s=u(n,t,t[6],null);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,r){s&&s.p&&(!e||64&r)&&p(s,n,t,t[6],e?$(n,t[6],r,null):f(t[6]),null)},i(t){e||(_t(s,t),e=!0)},o(t){wt(s,t),e=!1},d(t){s&&s.d(t)}}}function De(e){let n;return{c(){n=U("Идет загрузка...")},m(t,e){S(t,n,e)},p:t,i:t,o:t,d(t){t&&O(n)}}}function He(t){let e,n,s,r,l,i;const c=[De,We],a=[];function u(t,e){return t[0]?0:1}return n=u(t),s=a[n]=c[n](t),{c(){e=T("button"),s.c(),e.disabled=t[1],R(e,"class",h("button"+t[4]())+" svelte-rwp6dt")},m(s,o){S(s,e,o),a[n].m(e,null),r=!0,l||(i=[E(e,"click",t[8]),E(e,"mouseover",t[9]),E(e,"mouseleave",t[10])],l=!0)},p(t,[o]){let l=n;n=u(t),n===l?a[n].p(t,o):(yt(),wt(a[l],1,1,(()=>{a[l]=null})),xt(),s=a[n],s?s.p(t,o):(s=a[n]=c[n](t),s.c()),_t(s,1),s.m(e,null)),(!r||2&o)&&(e.disabled=t[1])},i(t){r||(_t(s),r=!0)},o(t){wt(s),r=!1},d(t){t&&O(e),a[n].d(),l=!1,o(i)}}}function Fe(t,e,n){let{$$slots:s={},$$scope:r}=e,{loading:o=!1}=e,{theme:l="default"}=e,{disabled:i=!1}=e,{onClick:c=(()=>{})}=e;const a=tt();return t.$$set=t=>{"loading"in t&&n(0,o=t.loading),"theme"in t&&n(5,l=t.theme),"disabled"in t&&n(1,i=t.disabled),"onClick"in t&&n(2,c=t.onClick),"$$scope"in t&&n(6,r=t.$$scope)},[o,i,c,a,()=>{let t="";return t+=` ${{delete:"button--delete",add:"button--add",default:"button--default"}[l]}`,i&&(t+=" button--disabled"),t},l,r,s,()=>{o||c()},()=>a("hovered",{state:!0}),()=>a("hovered",{state:!1})]}class Ge extends Mt{constructor(t){super(),Rt(this,t,Fe,He,i,{loading:0,theme:5,disabled:1,onClick:2})}}function Ke(t,e,n){const s=t.slice();return s[10]=e[n],s}function Je(t){let e,n,s,r,o,l,i=t[4](t[10])+"";function c(){return t[8](t[10])}return{c(){e=T("div"),n=U(i),s=P(),R(e,"class","select__options-item svelte-13lznyd"),R(e,"key",r=t[10].id)},m(t,r){S(t,e,r),k(e,n),k(e,s),o||(l=E(e,"click",c),o=!0)},p(s,o){t=s,2&o&&i!==(i=t[4](t[10])+"")&&A(n,i),2&o&&r!==(r=t[10].id)&&R(e,"key",r)},d(t){t&&O(e),o=!1,l()}}}function Ye(e){let n,s,r,o,l,i,c,a,u,d=e[4](e[0])+"",$=Ct(e[1]),p=[];for(let t=0;t<$.length;t+=1)p[t]=Je(Ke(e,$,t));return{c(){n=T("div"),s=T("div"),r=T("div"),o=U(d),l=P(),i=T("div");for(let t=0;t<p.length;t+=1)p[t].c();R(r,"class","select__display svelte-13lznyd"),R(s,"class","select__display-container svelte-13lznyd"),R(i,"class","select__options svelte-13lznyd"),D(i,"select__options--close",!e[3]),R(n,"class","select svelte-13lznyd"),R(n,"style",c=`width: ${e[2]}px`)},m(t,c){S(t,n,c),k(n,s),k(s,r),k(r,o),k(n,l),k(n,i);for(let t=0;t<p.length;t+=1)p[t]&&p[t].m(i,null);a||(u=E(s,"click",e[7]),a=!0)},p(t,[e]){if(1&e&&d!==(d=t[4](t[0])+"")&&A(o,d),50&e){let n;for($=Ct(t[1]),n=0;n<$.length;n+=1){const s=Ke(t,$,n);p[n]?p[n].p(s,e):(p[n]=Je(s),p[n].c(),p[n].m(i,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=$.length}8&e&&D(i,"select__options--close",!t[3]),4&e&&c!==(c=`width: ${t[2]}px`)&&R(n,"style",c)},i:t,o:t,d(t){t&&O(n),L(p,t),a=!1,u()}}}function Qe(t,e,n){let{options:s=[]}=e,{view:r}=e,{width:o=250}=e,{selected:l=s[0]}=e;const i=tt();let c=!1;const a=t=>{n(0,l=t),n(3,c=!1),i("update",t)};return t.$$set=t=>{"options"in t&&n(1,s=t.options),"view"in t&&n(6,r=t.view),"width"in t&&n(2,o=t.width),"selected"in t&&n(0,l=t.selected)},[l,s,o,c,t=>"string"==typeof r?t[r]:"function"==typeof r?r(t):t,a,r,()=>n(3,c=!c),t=>a(t)]}class Ve extends Mt{constructor(t){super(),Rt(this,t,Qe,Ye,i,{options:1,view:6,width:2,selected:0})}}const Xe=t=>({}),Ze=t=>({}),tn=t=>({}),en=t=>({});function nn(t){let e,n,s,r,o;const l=t[1].label,i=u(l,t,t[0],en),c=t[1].elem,a=u(c,t,t[0],Ze);return{c(){e=T("div"),n=T("div"),i&&i.c(),s=P(),r=T("div"),a&&a.c(),R(n,"class","row__label svelte-dyfzn6"),R(r,"class","row__elem"),R(e,"class","row svelte-dyfzn6")},m(t,l){S(t,e,l),k(e,n),i&&i.m(n,null),k(e,s),k(e,r),a&&a.m(r,null),o=!0},p(t,[e]){i&&i.p&&(!o||1&e)&&p(i,l,t,t[0],o?$(l,t[0],e,tn):f(t[0]),en),a&&a.p&&(!o||1&e)&&p(a,c,t,t[0],o?$(c,t[0],e,Xe):f(t[0]),Ze)},i(t){o||(_t(i,t),_t(a,t),o=!0)},o(t){wt(i,t),wt(a,t),o=!1},d(t){t&&O(e),i&&i.d(t),a&&a.d(t)}}}function sn(t,e,n){let{$$slots:s={},$$scope:r}=e;return t.$$set=t=>{"$$scope"in t&&n(0,r=t.$$scope)},[r,s]}class rn extends Mt{constructor(t){super(),Rt(this,t,sn,nn,i,{})}}const on=window.location.origin,ln={async handler(t,e,n){const{params:s={},headers:r=new Headers,body:o=null,credentials:l="include"}=n||{},i=new URL("/api/"+(e?e+"/":""),on);i.search=new URLSearchParams(s);o instanceof FormData||r.append("Content-Type","application/json");const c=await fetch(i,{method:t,params:s,headers:r,body:o,credentials:l});let a=await c.text();if(a=a?JSON.parse(a):{},c.status>=400){const t=new Error(a);throw t.message=a.message,t.code=c.status,t}return a},async get(t,e){return await this.handler("GET",t,e)},async post(t,e){return await this.handler("POST",t,e)},async delete(t,e){return await this.handler("DELETE",t,e)}};var cn={auth:{login:async t=>await ln.post("auth/login",{body:JSON.stringify(t)}),logout:async()=>await ln.post("auth/logout"),status:async()=>await ln.get("auth/status")},users:{async list(){const{results:t}=await ln.get("users/list");return t},info:async t=>await ln.get(`users/${t}`),delete:async t=>await ln.delete(`users/${t}`)},scenario:{get:async()=>await ln.get("settings/scenario"),set:async t=>await ln.post("settings/scenario",{body:JSON.stringify(t)}),delete:async()=>await ln.delete("settings/scenario")},aliases:{list:async()=>await ln.get("settings/aliases"),create:async t=>await ln.post("settings/aliases",{body:JSON.stringify(t)}),delete:async()=>await ln.delete("settings/aliases")},reminders:{list:async(t={})=>await ln.get("settings/reminders",{params:t}),create:async t=>await ln.post("settings/reminders",{body:JSON.stringify(t)}),delete:async()=>await ln.delete("settings/reminders")},files:{upload:async t=>await ln.post("files/upload",{body:t}),delete:async t=>await ln.delete(`files/${t}`)}};const an=t=>new Date(t).toLocaleString(),un=t=>`${t.first_name} ${t.last_name}`,dn=t=>{const{since:e,until:n}=t,{hours:s,minutes:r}=(o=n-e,{hours:Math.floor(o/36e5),minutes:Math.floor(o%36e5/6e4)});var o;return s?s&&!r?`${s}h`:`${s}h ${r}min`:`${r}min`},$n=(t,e,n)=>{if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(const s of t){if(!e.find((t=>n(s,t))))return!1}return!0},pn=(t,e)=>{if(Array.isArray(t))return t.map((t=>pn(t,e)));if(null!==t&&"object"==typeof t){const n=Object.keys(t),s={};for(const r of n)e(r)?delete s[r]:s[r]=pn(t[r],e);return s}return t};function fn(t,e,n){const s=t.slice();return s[16]=e[n],s[18]=n,s}function mn(t){let e;return{c(){e=U("Delete")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function gn(t,e){let n,s,r,o,l,i,c,a,u,d,$,p=e[16].name+"",f=e[16].action.title+"";function m(){return e[10](e[16])}return u=new Ge({props:{theme:"delete",onClick:m,$$slots:{default:[mn]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=T("div"),s=T("div"),r=U(p),o=P(),l=T("div"),i=U(f),c=P(),a=T("div"),Ut(u.$$.fragment),d=P(),R(s,"class","alias__item svelte-1paa8k3"),R(l,"class","alias__item svelte-1paa8k3"),R(a,"class","alias__item svelte-1paa8k3"),R(n,"class","alias svelte-1paa8k3"),D(n,"alias--odd",e[18]%2!=0),this.first=n},m(t,e){S(t,n,e),k(n,s),k(s,r),k(n,o),k(n,l),k(l,i),k(n,c),k(n,a),Pt(u,a,null),k(n,d),$=!0},p(t,s){e=t,(!$||1&s)&&p!==(p=e[16].name+"")&&A(r,p),(!$||1&s)&&f!==(f=e[16].action.title+"")&&A(i,f);const o={};1&s&&(o.onClick=m),524288&s&&(o.$$scope={dirty:s,ctx:e}),u.$set(o),(!$||1&s)&&D(n,"alias--odd",e[18]%2!=0)},i(t){$||(_t(u.$$.fragment,t),$=!0)},o(t){wt(u.$$.fragment,t),$=!1},d(t){t&&O(n),jt(u)}}}function hn(e){let n;return{c(){n=T("span"),n.textContent="Псевдоним",R(n,"slot","label"),R(n,"for","alias"),R(n,"class","label svelte-1paa8k3")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function vn(t){let e,n;return{c(){e=T("div"),n=U(t[3]),R(e,"class","error svelte-1paa8k3")},m(t,s){S(t,e,s),k(e,n)},p(t,e){8&e&&A(n,t[3])},d(t){t&&O(e)}}}function yn(t){let e,n,s,r,l,i=t[3]&&vn(t);return{c(){e=T("div"),n=T("input"),s=P(),i&&i.c(),R(n,"type","text"),R(n,"id","alias"),R(n,"placeholder","Ваш текст"),R(e,"slot","elem")},m(o,c){S(o,e,c),k(e,n),B(n,t[1]),k(e,s),i&&i.m(e,null),r||(l=[E(n,"input",t[11]),E(n,"focus",t[12])],r=!0)},p(t,s){2&s&&n.value!==t[1]&&B(n,t[1]),t[3]?i?i.p(t,s):(i=vn(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&O(e),i&&i.d(),r=!1,o(l)}}}function xn(e){let n;return{c(){n=T("span"),n.textContent="Действие",R(n,"slot","label"),R(n,"class","label svelte-1paa8k3")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function _n(t){let e,n,s;function r(e){t[13](e)}let o={slot:"elem",options:t[5],view:"title"};return void 0!==t[2]&&(o.selected=t[2]),e=new Ve({props:o}),rt.push((()=>function(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}(e,"selected",r))),{c(){Ut(e.$$.fragment)},m(t,n){Pt(e,t,n),s=!0},p(t,s){const r={};var o;!n&&4&s&&(n=!0,r.selected=t[2],o=()=>n=!1,lt.push(o)),e.$set(r)},i(t){s||(_t(e.$$.fragment,t),s=!0)},o(t){wt(e.$$.fragment,t),s=!1},d(t){jt(e,t)}}}function wn(t){let e;return{c(){e=U("Добавить псевдоним")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function bn(t){let e;return{c(){e=U("Сохранить")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function kn(t){let e,n,s,r,o,l,i,c,a,u,d,$,p,f=[],m=new Map,g=Ct(t[0]);const h=t=>t[16].id;for(let e=0;e<g.length;e+=1){let n=fn(t,g,e),s=h(n);m.set(s,f[e]=gn(s,n))}return o=new rn({props:{$$slots:{elem:[yn],label:[hn]},$$scope:{ctx:t}}}),i=new rn({props:{$$slots:{elem:[_n],label:[xn]},$$scope:{ctx:t}}}),u=new Ge({props:{onClick:t[6],$$slots:{default:[wn]},$$scope:{ctx:t}}}),$=new Ge({props:{theme:"add",onClick:t[8],$$slots:{default:[bn]},$$scope:{ctx:t}}}),{c(){e=T("section"),n=T("div");for(let t=0;t<f.length;t+=1)f[t].c();s=P(),r=T("div"),Ut(o.$$.fragment),l=P(),Ut(i.$$.fragment),c=P(),a=T("div"),Ut(u.$$.fragment),d=P(),Ut($.$$.fragment),R(n,"class","alias__list"),R(r,"class","alias__controls svelte-1paa8k3"),R(a,"class","alias__actions svelte-1paa8k3"),R(e,"class","aliases")},m(t,m){S(t,e,m),k(e,n);for(let t=0;t<f.length;t+=1)f[t]&&f[t].m(n,null);k(e,s),k(e,r),Pt(o,r,null),k(r,l),Pt(i,r,null),k(e,c),k(e,a),Pt(u,a,null),k(a,d),Pt($,a,null),p=!0},p(t,e){129&e&&(g=Ct(t[0]),yt(),f=Ot(f,e,h,1,t,g,m,n,St,gn,null,fn),xt());const s={};524298&e&&(s.$$scope={dirty:e,ctx:t}),o.$set(s);const r={};524292&e&&(r.$$scope={dirty:e,ctx:t}),i.$set(r);const l={};524288&e&&(l.$$scope={dirty:e,ctx:t}),u.$set(l);const c={};524288&e&&(c.$$scope={dirty:e,ctx:t}),$.$set(c)},i(t){if(!p){for(let t=0;t<g.length;t+=1)_t(f[t]);_t(o.$$.fragment,t),_t(i.$$.fragment,t),_t(u.$$.fragment,t),_t($.$$.fragment,t),p=!0}},o(t){for(let t=0;t<f.length;t+=1)wt(f[t]);wt(o.$$.fragment,t),wt(i.$$.fragment,t),wt(u.$$.fragment,t),wt($.$$.fragment,t),p=!1},d(t){t&&O(e);for(let t=0;t<f.length;t+=1)f[t].d();jt(o),jt(i),jt(u),jt($)}}}function Cn(t){let e,n;return e=new Ne({props:{h1:"Псевдонимы для действий",hasUnsavedChanges:t[4],$$slots:{default:[kn]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};16&n&&(s.hasUnsavedChanges=t[4]),524303&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function qn(t,e,n){let s,r=[],o=0;let l,i=[],c="",a="";const u=async()=>{const t=await cn.aliases.list(),{next_id:e,list:s}=t;o=e,n(9,r=s),n(0,i=s)},d=t=>{const e=i.findIndex((e=>e.id===t));if(e<0)return;const s=structuredClone(i);s.splice(e,1),n(0,i=s)};Z((async()=>{await u()}));return t.$$.update=()=>{513&t.$$.dirty&&n(4,s=!$n(r,i,((t,e)=>t.id===e.id)))},[i,c,l,a,s,[{title:"Следующий шаг",value:"continue"},{title:"Нужна помощь",value:"need_help"},{title:"Начать заново",value:"start_over"},{title:"Никаких действий",value:"in_process"}],()=>{c?(n(0,i=[...i,{id:o++,name:c,action:l}]),n(1,c="")):n(3,a="Укажите псевдоним для команды")},d,async()=>{try{await cn.aliases.create({next_id:o,list:i}),await u()}catch(t){console.error(t)}},r,t=>d(t.id),function(){c=this.value,n(1,c)},()=>n(3,a=""),function(t){l=t,n(2,l)}]}function Sn(t){let e,n,s=t[0].login+"";return{c(){e=T("span"),n=U(s),R(e,"class","auth-form__error svelte-gq2cvq")},m(t,s){S(t,e,s),k(e,n)},p(t,e){1&e&&s!==(s=t[0].login+"")&&A(n,s)},d(t){t&&O(e)}}}function On(t){let e,n,s=t[0].password+"";return{c(){e=T("span"),n=U(s),R(e,"class","auth-form__error svelte-gq2cvq")},m(t,s){S(t,e,s),k(e,n)},p(t,e){1&e&&s!==(s=t[0].password+"")&&A(n,s)},d(t){t&&O(e)}}}function Ln(e){let n,s,r,l,i,c,a,u,d,$,p,f,m,g,h,v,y,x,_,w,b=e[0].login&&Sn(e),C=e[0].password&&On(e);return{c(){n=T("section"),s=T("h1"),s.textContent="Авторизация",r=P(),l=T("form"),i=T("div"),c=T("label"),c.textContent="Login",a=P(),u=T("input"),d=P(),b&&b.c(),$=P(),p=T("div"),f=T("label"),f.textContent="Password",m=P(),g=T("input"),h=P(),C&&C.c(),v=P(),y=T("button"),x=U("Войти"),R(s,"class","main-heading"),R(c,"for","login"),R(c,"class","svelte-gq2cvq"),R(u,"id","login"),R(u,"type","text"),R(i,"class","auth-form__input svelte-gq2cvq"),R(f,"for","password"),R(f,"class","svelte-gq2cvq"),R(g,"id","password"),R(g,"type","password"),R(p,"class","auth-form__input svelte-gq2cvq"),R(y,"class","auth-form__button svelte-gq2cvq"),y.disabled=e[2],D(y,"disabled",e[2]),R(l,"class","auth-form svelte-gq2cvq"),R(n,"class","svelte-gq2cvq")},m(t,o){S(t,n,o),k(n,s),k(n,r),k(n,l),k(l,i),k(i,c),k(i,a),k(i,u),B(u,e[1].login),k(i,d),b&&b.m(i,null),k(l,$),k(l,p),k(p,f),k(p,m),k(p,g),B(g,e[1].password),k(p,h),C&&C.m(p,null),k(l,v),k(l,y),k(y,x),_||(w=[E(u,"input",e[5]),E(u,"input",e[6]),E(g,"input",e[7]),E(g,"input",e[8]),E(y,"click",e[3])],_=!0)},p(t,[e]){2&e&&u.value!==t[1].login&&B(u,t[1].login),t[0].login?b?b.p(t,e):(b=Sn(t),b.c(),b.m(i,null)):b&&(b.d(1),b=null),2&e&&g.value!==t[1].password&&B(g,t[1].password),t[0].password?C?C.p(t,e):(C=On(t),C.c(),C.m(p,null)):C&&(C.d(1),C=null),4&e&&(y.disabled=t[2]),4&e&&D(y,"disabled",t[2])},i:t,o:t,d(t){t&&O(n),b&&b.d(),C&&C.d(),_=!1,o(w)}}}function Tn(t,e,n){let s,r;a(t,Se,(t=>n(4,r=t)));const o={login:"",password:""};let l={login:"",password:""};return t.$$.update=()=>{1&t.$$.dirty&&n(2,s=l.login||l.password),16&t.$$.dirty&&r&&me(`${qe}/`,{replace:!0})},[l,o,s,async t=>{t.preventDefault();try{await cn.auth.login(o),Se.set(!0),me(`${qe}/`,{replace:!0})}catch(t){console.log("ERR",t.message),Se.set(!1),t.message.login&&n(0,l.login=t.message.login,l),t.message.password&&n(0,l.password=t.message.password,l)}},r,function(){o.login=this.value,n(1,o)},()=>n(0,l.login="",l),function(){o.password=this.value,n(1,o)},()=>n(0,l.password="",l)]}class Un{#t=[];#e=()=>{};#n(t){return this.#t.find((e=>e.id===t))}init(t){this.#t=[...t,...this.#t].sort(((t,e)=>t.id-e.id)),this.#t=this.#t.map((t=>(t.reminders.map((e=>(e._parent=t,e))),t))),this.#e()}update(t){this.#e=()=>t(this.#t),this.#e()}createGroup(t){const e=this.#t.at(-1),n=e?e.id+1:0;return this.#t.push({id:n,name:t,reminders:[]}),this.#e(),this.#t.at(-1)}removeGroup(t){const e=this.#t.findIndex((e=>e.id===t)),n=this.#t[e];return this.#t.splice(e,1),this.#e(),n}createReminder(t,e){const n=this.#t.reduce(((t,e)=>[...t,...e.reminders.map((t=>t.id))]),[]).sort(((t,e)=>t-e)),s=n.length?n.at(-1)+1:0,r=this.#n(t);r.reminders.push({_parent:r,id:s,delay:0,message:"",keyboard:[],...e}),this.#e()}updateReminder(t,e){e(t),this.#e()}removeReminder(t){const e=t._parent.reminders.findIndex((e=>t.id===e.id));t._parent.reminders.splice(e,1),this.#e()}}function Pn(e){let n;return{c(){n=T("div"),n.textContent="Пока ничего нет",R(n,"class","empty-state svelte-1qtq9vj")},m(t,e){S(t,n,e)},p:t,i:t,o:t,d(t){t&&O(n)}}}class jn extends Mt{constructor(t){super(),Rt(this,t,null,Pn,i,{})}}const En=t=>({}),Rn=t=>({}),Mn=t=>({}),zn=t=>({});function In(t){let e,n,s,r,o,l,i,c,a=t[0].title+"";const d=t[3].content,m=u(d,t,t[2],zn),g=t[3].actions,h=u(g,t,t[2],Rn);return{c(){e=T("div"),n=T("div"),s=T("h2"),r=U(a),o=P(),m&&m.c(),l=P(),h&&h.c(),R(n,"class","modal-content svelte-pknf1j"),R(n,"style",i=`width: ${t[1]}`),R(e,"class","modal svelte-pknf1j")},m(t,i){S(t,e,i),k(e,n),k(n,s),k(s,r),k(n,o),m&&m.m(n,null),k(n,l),h&&h.m(n,null),c=!0},p(t,e){(!c||1&e)&&a!==(a=t[0].title+"")&&A(r,a),m&&m.p&&(!c||4&e)&&p(m,d,t,t[2],c?$(d,t[2],e,Mn):f(t[2]),zn),h&&h.p&&(!c||4&e)&&p(h,g,t,t[2],c?$(g,t[2],e,En):f(t[2]),Rn),(!c||2&e&&i!==(i=`width: ${t[1]}`))&&R(n,"style",i)},i(t){c||(_t(m,t),_t(h,t),c=!0)},o(t){wt(m,t),wt(h,t),c=!1},d(t){t&&O(e),m&&m.d(t),h&&h.d(t)}}}function Nn(t){let e,n,s=t[0].isOpen&&In(t);return{c(){s&&s.c(),e=j()},m(t,r){s&&s.m(t,r),S(t,e,r),n=!0},p(t,[n]){t[0].isOpen?s?(s.p(t,n),1&n&&_t(s,1)):(s=In(t),s.c(),_t(s,1),s.m(e.parentNode,e)):s&&(yt(),wt(s,1,1,(()=>{s=null})),xt())},i(t){n||(_t(s),n=!0)},o(t){wt(s),n=!1},d(t){t&&O(e),s&&s.d(t)}}}function An(t,e,n){let{$$slots:s={},$$scope:r}=e,{state:o}=e,{width:l}=e;return t.$$set=t=>{"state"in t&&n(0,o=t.state),"width"in t&&n(1,l=t.width),"$$scope"in t&&n(2,r=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&(o.isOpen?document.body.style["overflow-y"]="hidden":document.body.style["overflow-y"]="auto")},[o,l,r,s]}class Bn extends Mt{constructor(t){super(),Rt(this,t,An,Nn,i,{state:0,width:1})}}function Wn(t){let e;return{c(){e=U("⥆")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Dn(t){let e;return{c(){e=U("⥅")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Hn(t){let e;return{c(){e=U("Удалить кнопку")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Fn(t){let e;return{c(){e=U("Добавить ряд")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Gn(t){let e;return{c(){e=U("Удалить ряд")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Kn(t){let e,n,s,r,l,i,c,a,u,d,$,p,f,m,g,h,v,y,x,_,w,b,C,q,L,U,j,M,z,I;return m=new Ge({props:{onClick:t[9],$$slots:{default:[Wn]},$$scope:{ctx:t}}}),v=new Ve({props:{options:t[1],view:Jn}}),v.$on("update",t[10]),x=new Ge({props:{onClick:t[11],$$slots:{default:[Dn]},$$scope:{ctx:t}}}),b=new Ge({props:{theme:"delete",onClick:t[12],$$slots:{default:[Hn]},$$scope:{ctx:t}}}),L=new Ge({props:{onClick:t[13],$$slots:{default:[Fn]},$$scope:{ctx:t}}}),j=new Ge({props:{theme:"delete",onClick:t[14],$$slots:{default:[Gn]},$$scope:{ctx:t}}}),{c(){e=T("div"),n=T("div"),s=T("div"),s.innerHTML='<span class="label svelte-a25ds">up</span>',r=P(),l=T("div"),l.innerHTML='<span class="label svelte-a25ds">right</span>',i=P(),c=T("div"),c.innerHTML='<span class="label svelte-a25ds">left</span>',a=P(),u=T("div"),u.innerHTML='<span class="label svelte-a25ds">down</span>',d=P(),$=T("div"),p=T("div"),f=T("div"),Ut(m.$$.fragment),g=P(),h=T("div"),Ut(v.$$.fragment),y=P(),Ut(x.$$.fragment),_=P(),w=T("div"),Ut(b.$$.fragment),C=P(),q=T("div"),Ut(L.$$.fragment),U=P(),Ut(j.$$.fragment),R(s,"class","arrow svelte-a25ds"),D(s,"active",t[2].up),R(l,"class","arrow svelte-a25ds"),D(l,"active",t[2].right),R(c,"class","arrow svelte-a25ds"),D(c,"active",t[2].left),R(u,"class","arrow svelte-a25ds"),D(u,"active",t[2].down),R(n,"class","joystick__cross svelte-a25ds"),R(h,"class","display"),R(f,"class","actions__button-section svelte-a25ds"),R(w,"class","actions__button-section actions__button-section--column svelte-a25ds"),R(p,"class","actions__block svelte-a25ds"),R(q,"class","actions__block svelte-a25ds"),R($,"class","joystick__actions svelte-a25ds"),R(e,"class","editor svelte-a25ds"),R(e,"tabindex","0")},m(o,O){S(o,e,O),k(e,n),k(n,s),k(n,r),k(n,l),k(n,i),k(n,c),k(n,a),k(n,u),k(e,d),k(e,$),k($,p),k(p,f),Pt(m,f,null),k(f,g),k(f,h),Pt(v,h,null),k(f,y),Pt(x,f,null),k(p,_),k(p,w),Pt(b,w,null),k($,C),k($,q),Pt(L,q,null),k(q,U),Pt(j,q,null),M=!0,z||(I=[E(s,"click",t[5]),E(l,"click",t[6]),E(c,"click",t[7]),E(u,"click",t[8]),E(e,"keydown",t[3])],z=!0)},p(t,[e]){(!M||4&e)&&D(s,"active",t[2].up),(!M||4&e)&&D(l,"active",t[2].right),(!M||4&e)&&D(c,"active",t[2].left),(!M||4&e)&&D(u,"active",t[2].down);const n={};1&e&&(n.onClick=t[9]),65536&e&&(n.$$scope={dirty:e,ctx:t}),m.$set(n);const r={};2&e&&(r.options=t[1]),v.$set(r);const o={};1&e&&(o.onClick=t[11]),65536&e&&(o.$$scope={dirty:e,ctx:t}),x.$set(o);const i={};1&e&&(i.onClick=t[12]),65536&e&&(i.$$scope={dirty:e,ctx:t}),b.$set(i);const a={};1&e&&(a.onClick=t[13]),65536&e&&(a.$$scope={dirty:e,ctx:t}),L.$set(a);const d={};1&e&&(d.onClick=t[14]),65536&e&&(d.$$scope={dirty:e,ctx:t}),j.$set(d)},i(t){M||(_t(m.$$.fragment,t),_t(v.$$.fragment,t),_t(x.$$.fragment,t),_t(b.$$.fragment,t),_t(L.$$.fragment,t),_t(j.$$.fragment,t),M=!0)},o(t){wt(m.$$.fragment,t),wt(v.$$.fragment,t),wt(x.$$.fragment,t),wt(b.$$.fragment,t),wt(L.$$.fragment,t),wt(j.$$.fragment,t),M=!1},d(t){t&&O(e),jt(m),jt(v),jt(x),jt(b),jt(L),jt(j),z=!1,o(I)}}}const Jn=t=>t?.at(0)||"нет данных";function Yn(t,e,n){let{controls:s}=e,{cursor:r}=e,{buttonTypes:o}=e;const l={up:!1,down:!1,left:!1,right:!1};return t.$$set=t=>{"controls"in t&&n(0,s=t.controls),"cursor"in t&&n(4,r=t.cursor),"buttonTypes"in t&&n(1,o=t.buttonTypes)},t.$$.update=()=>{17&t.$$.dirty&&r&&s.show((t=>t?.text))},[s,o,l,t=>{if(!t.key.startsWith("Arrow"))return;const e=t.key.replace("Arrow","").toLowerCase();n(2,l[e]=!0,l),setTimeout((()=>n(2,l[e]=!1,l)),300),s[e]()},r,()=>s.up(),()=>s.right(),()=>s.left(),()=>s.down(),()=>s.addButton({text:""},!0),({detail:[t]})=>{s.updateButton((()=>({text:t})))},()=>s.addButton({text:""}),()=>s.deleteButton(),()=>s.addLine(),()=>s.deleteLine()]}class Qn extends Mt{constructor(t){super(),Rt(this,t,Yn,Kn,i,{controls:0,cursor:4,buttonTypes:1})}}function Vn(t,e,n){const s=t.slice();return s[2]=e[n],s[4]=n,s}function Xn(t,e,n){const s=t.slice();return s[5]=e[n],s[7]=n,s}function Zn(t){let e,n=Ct(t[0]),s=[];for(let e=0;e<n.length;e+=1)s[e]=es(Vn(t,n,e));return{c(){e=T("div");for(let t=0;t<s.length;t+=1)s[t].c();R(e,"class","keyboard svelte-rc69je")},m(t,n){S(t,e,n);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null)},p(t,r){if(3&r){let o;for(n=Ct(t[0]),o=0;o<n.length;o+=1){const l=Vn(t,n,o);s[o]?s[o].p(l,r):(s[o]=es(l),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(t){t&&O(e),L(s,t)}}}function ts(t){let e,n,s=t[5].text+"";return{c(){e=T("div"),n=U(s),R(e,"class","line__button svelte-rc69je"),D(e,"selected",t[1]&&t[1].y===t[4]&&t[1].x===t[7])},m(t,s){S(t,e,s),k(e,n)},p(t,r){1&r&&s!==(s=t[5].text+"")&&A(n,s),2&r&&D(e,"selected",t[1]&&t[1].y===t[4]&&t[1].x===t[7])},d(t){t&&O(e)}}}function es(t){let e,n,s=Ct(t[2]),r=[];for(let e=0;e<s.length;e+=1)r[e]=ts(Xn(t,s,e));return{c(){e=T("div");for(let t=0;t<r.length;t+=1)r[t].c();n=P(),R(e,"class","keyboard__line svelte-rc69je")},m(t,s){S(t,e,s);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null);k(e,n)},p(t,o){if(3&o){let l;for(s=Ct(t[2]),l=0;l<s.length;l+=1){const i=Xn(t,s,l);r[l]?r[l].p(i,o):(r[l]=ts(i),r[l].c(),r[l].m(e,n))}for(;l<r.length;l+=1)r[l].d(1);r.length=s.length}},d(t){t&&O(e),L(r,t)}}}function ns(e){let n,s=e[0].length>0&&Zn(e);return{c(){n=T("div"),s&&s.c(),R(n,"class","keyboard-wrapper svelte-rc69je")},m(t,e){S(t,n,e),s&&s.m(n,null)},p(t,[e]){t[0].length>0?s?s.p(t,e):(s=Zn(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null)},i:t,o:t,d(t){t&&O(n),s&&s.d()}}}function ss(t,e,n){let{keyboard:s=[]}=e,{cursor:r=null}=e;return t.$$set=t=>{"keyboard"in t&&n(0,s=t.keyboard),"cursor"in t&&n(1,r=t.cursor)},[s,r]}class rs extends Mt{constructor(t){super(),Rt(this,t,ss,ns,i,{keyboard:0,cursor:1})}}class os{#s=[[]];#r={y:0,x:0};#o={update:()=>{},build:()=>{}};#l;#i;constructor(t,e=3){this.#l=e,t&&(this.#s[0].push(t),this.#i=t)}#c(t){this.#o[t]?this.#o[t]():console.warn(`Событие "${t}" не существует, проверьте правильность написания.`)}build(t=(t=>t)){const e=this.#s.reduce(((e,n)=>{const s=n.filter(t);return s.length&&e.push(s),e}),[]);return this.#s=[[this.#i]],this.#r={x:0,y:0},e}on(t,e){this.#o[t]?this.#o[t]=()=>{e({state:this.#s,cursor:this.#r})}:console.warn(`Событие "${t}" не существует, проверьте правильность написания.`)}left(){0!==this.#r.x&&(this.#r.x--,this.#c("update"))}right(){this.#r.x<this.#s[this.#r.y].length-1&&(this.#r.x++,this.#c("update"))}up(){if(0!==this.#r.y){const t=this.#r.x===this.#s[this.#r.y].length-1;this.#r.y--,0===this.#s[this.#r.y].length?this.#r.x=0:(t||this.#r.x===this.#s[this.#r.y].length-1)&&(this.#r.x=this.#s[this.#r.y].length-1),this.#c("update")}}down(){if(this.#r.y<this.#s.length-1){const t=this.#r.x===this.#s[this.#r.y].length-1;this.#r.y++,0===this.#s[this.#r.y].length?this.#r.x=0:(t||this.#r.x>=this.#s[this.#r.y].length-1)&&(this.#r.x=this.#s[this.#r.y].length-1),this.#c("update")}}addLine(){const t=this.#i?[this.#i]:[];this.#s.push(t),this.#r.y=this.#s.length-1,this.#r.x=0,this.#c("update")}addButton(t,e=!1){if(this.#s[this.#r.y].length>=this.#l)return;const n=e?this.#r.x:this.#r.x+1;this.#s[this.#r.y].splice(n,0,t),this.#r.x=n,this.#c("update")}updateButton(t){const{x:e,y:n}=this.#r,s=this.#s[n]?.[e];s&&(this.#s[n].splice(e,1,t(s)),this.#c("update"))}show(t){const{x:e,y:n}=this.#r;return t?t(this.#s[n]?.[e]):this.#s[n]?.[e]}deleteButton(){const{x:t,y:e}=this.#r;this.#s[e]?.splice(t,1),this.#s[e].length?this.#s[e].length-1<t&&(this.#r.x=this.#s[e].length-1):(this.#s.splice(e,1),this.#r.x=0,this.#r.y=e-1),this.#c("update")}deleteLine(){const{y:t}=this.#r;this.#s.splice(t,1),this.#r.x=0,this.#r.y=t>0?t-1:0,this.#c("update")}reset(){this.#s=[[]],this.#r={y:0,x:0}}get keyboard(){return this.#s}get cursor(){return this.#r}}function ls(e){let n;return{c(){n=T("span"),n.textContent="Задержка",R(n,"slot","label"),R(n,"class","modal__label"),R(n,"for","delay")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function is(t){let e,n,s,r,o,l,i;return r=new Ve({props:{options:t[5],view:"label",selected:t[3].unit,width:"60"}}),{c(){e=T("div"),n=T("input"),s=P(),Ut(r.$$.fragment),R(n,"id","delay"),R(n,"type","number"),R(n,"class","input--delay svelte-kh2duc"),R(e,"slot","elem"),R(e,"class","modal__option modal__option--time svelte-kh2duc")},m(c,a){S(c,e,a),k(e,n),B(n,t[3].delay),k(e,s),Pt(r,e,null),o=!0,l||(i=E(n,"input",t[10]),l=!0)},p(t,e){8&e&&N(n.value)!==t[3].delay&&B(n,t[3].delay);const s={};8&e&&(s.selected=t[3].unit),r.$set(s)},i(t){o||(_t(r.$$.fragment,t),o=!0)},o(t){wt(r.$$.fragment,t),o=!1},d(t){t&&O(e),jt(r),l=!1,i()}}}function cs(e){let n;return{c(){n=T("span"),n.textContent="Сообщение",R(n,"slot","label"),R(n,"class","modal__label")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function as(t){let e,n,s;return{c(){e=T("textarea"),R(e,"slot","elem"),R(e,"id","msg-text"),R(e,"placeholder","Текст сообщения")},m(r,o){S(r,e,o),B(e,t[3].message),n||(s=E(e,"input",t[11]),n=!0)},p(t,n){8&n&&B(e,t[3].message)},d(t){t&&O(e),n=!1,s()}}}function us(t){let e,n,s,r,o,l,i,c,a;return n=new rn({props:{$$slots:{elem:[is],label:[ls]},$$scope:{ctx:t}}}),r=new rn({props:{$$slots:{elem:[as],label:[cs]},$$scope:{ctx:t}}}),l=new rs({props:{keyboard:t[3].keyboard,cursor:t[2]}}),c=new Qn({props:{controls:t[6],cursor:t[2],buttonTypes:t[4]}}),{c(){e=T("div"),Ut(n.$$.fragment),s=P(),Ut(r.$$.fragment),o=P(),Ut(l.$$.fragment),i=P(),Ut(c.$$.fragment),R(e,"slot","content"),R(e,"class","modal__body svelte-kh2duc")},m(t,u){S(t,e,u),Pt(n,e,null),k(e,s),Pt(r,e,null),k(e,o),Pt(l,e,null),k(e,i),Pt(c,e,null),a=!0},p(t,e){const s={};8200&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s);const o={};8200&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o);const i={};8&e&&(i.keyboard=t[3].keyboard),4&e&&(i.cursor=t[2]),l.$set(i);const a={};4&e&&(a.cursor=t[2]),16&e&&(a.buttonTypes=t[4]),c.$set(a)},i(t){a||(_t(n.$$.fragment,t),_t(r.$$.fragment,t),_t(l.$$.fragment,t),_t(c.$$.fragment,t),a=!0)},o(t){wt(n.$$.fragment,t),wt(r.$$.fragment,t),wt(l.$$.fragment,t),wt(c.$$.fragment,t),a=!1},d(t){t&&O(e),jt(n),jt(r),jt(l),jt(c)}}}function ds(t){let e;return{c(){e=U("Сохранить")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function $s(t){let e;return{c(){e=U("Закрыть")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function ps(t){let e,n,s,r,o;return n=new Ge({props:{onClick:t[8],$$slots:{default:[ds]},$$scope:{ctx:t}}}),r=new Ge({props:{theme:"delete",onClick:t[9],$$slots:{default:[$s]},$$scope:{ctx:t}}}),{c(){e=T("div"),Ut(n.$$.fragment),s=P(),Ut(r.$$.fragment),R(e,"slot","actions"),R(e,"class","modal__actions svelte-kh2duc")},m(t,l){S(t,e,l),Pt(n,e,null),k(e,s),Pt(r,e,null),o=!0},p(t,e){const s={};11&e&&(s.onClick=t[8]),8192&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s);const o={};1&e&&(o.onClick=t[9]),8192&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o)},i(t){o||(_t(n.$$.fragment,t),_t(r.$$.fragment,t),o=!0)},o(t){wt(n.$$.fragment,t),wt(r.$$.fragment,t),o=!1},d(t){t&&O(e),jt(n),jt(r)}}}function fs(t){let e,n;return e=new Bn({props:{state:t[0],width:"620px",$$slots:{actions:[ps],content:[us]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.state=t[0]),8223&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function ms(t,e,n){let{state:s}=e,{onCreate:r}=e,{reminder:o={}}=e;const l=[{label:"сек",value:"seconds"},{label:"мин",value:"minutes"},{label:"ч",value:"hours"},{label:"д",value:"days"}],i=new os({text:""});let c=i.cursor;const a={delay:0,unit:l[2],message:"",keyboard:[]};let u={...structuredClone(a),...structuredClone(o)};i.on("update",(({state:t,cursor:e})=>{n(3,u.keyboard=t,u),n(2,c=e)}));let d=[[]];Z((async()=>{const{list:t}=await cn.aliases.list();n(4,d=t.map((t=>[t.name,t.action.value])))}));return t.$$set=t=>{"state"in t&&n(0,s=t.state),"onCreate"in t&&n(1,r=t.onCreate),"reminder"in t&&n(7,o=t.reminder)},t.$$.update=()=>{1&t.$$.dirty&&(s.isOpen||n(3,u=structuredClone(a)))},[s,r,c,u,d,l,i,o,()=>{n(3,u.keyboard=i.build((t=>!!t.text)),u),r(structuredClone(u)),n(0,s.isOpen=!1,s)},()=>{n(0,s.isOpen=!1,s)},function(){u.delay=N(this.value),n(3,u),n(0,s)},function(){u.message=this.value,n(3,u),n(0,s)}]}class gs extends Mt{constructor(t){super(),Rt(this,t,ms,fs,i,{state:0,onCreate:1,reminder:7})}}function hs(e){let n;return{c(){n=T("span"),n.textContent="Задержка:",R(n,"slot","label"),R(n,"class","display__elem-label")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function vs(t){let e,n,s=`${t[0].delay} ${t[0].unit.label}`;return{c(){e=T("span"),n=U(s),R(e,"slot","elem"),R(e,"class","display__elem-value")},m(t,s){S(t,e,s),k(e,n)},p(t,e){1&e&&s!==(s=`${t[0].delay} ${t[0].unit.label}`)&&A(n,s)},d(t){t&&O(e)}}}function ys(e){let n;return{c(){n=T("span"),n.textContent="Сообщение:",R(n,"slot","label"),R(n,"class","display__elem-label")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function xs(t){let e,n,s=t[0].message+"";return{c(){e=T("span"),n=U(s),R(e,"slot","elem"),R(e,"class","display__elem-value")},m(t,s){S(t,e,s),k(e,n)},p(t,e){1&e&&s!==(s=t[0].message+"")&&A(n,s)},d(t){t&&O(e)}}}function _s(t){let e;return{c(){e=U("Редактировать сообщение")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function ws(t){let e;return{c(){e=U("Удалить сообщение")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function bs(t){let e,n,s,r,o,l,i,c,a,u,d,$,p,f,m;return s=new rn({props:{$$slots:{elem:[vs],label:[hs]},$$scope:{ctx:t}}}),o=new rn({props:{$$slots:{elem:[xs],label:[ys]},$$scope:{ctx:t}}}),i=new rs({props:{keyboard:t[0].keyboard}}),u=new Ge({props:{onClick:t[3],$$slots:{default:[_s]},$$scope:{ctx:t}}}),$=new Ge({props:{theme:"delete",onClick:t[4],$$slots:{default:[ws]},$$scope:{ctx:t}}}),f=new gs({props:{state:t[2],reminder:t[0],onCreate:t[5]}}),{c(){e=T("div"),n=T("div"),Ut(s.$$.fragment),r=P(),Ut(o.$$.fragment),l=P(),Ut(i.$$.fragment),c=P(),a=T("div"),Ut(u.$$.fragment),d=P(),Ut($.$$.fragment),p=P(),Ut(f.$$.fragment),R(n,"class","reminder__display svelte-zc68km"),R(a,"class","reminder__actions svelte-zc68km"),R(e,"class","reminder svelte-zc68km")},m(t,g){S(t,e,g),k(e,n),Pt(s,n,null),k(n,r),Pt(o,n,null),k(n,l),Pt(i,n,null),k(e,c),k(e,a),Pt(u,a,null),k(a,d),Pt($,a,null),k(e,p),Pt(f,e,null),m=!0},p(t,[e]){const n={};65&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n);const r={};65&e&&(r.$$scope={dirty:e,ctx:t}),o.$set(r);const l={};1&e&&(l.keyboard=t[0].keyboard),i.$set(l);const c={};4&e&&(c.onClick=t[3]),64&e&&(c.$$scope={dirty:e,ctx:t}),u.$set(c);const a={};3&e&&(a.onClick=t[4]),64&e&&(a.$$scope={dirty:e,ctx:t}),$.$set(a);const d={};4&e&&(d.state=t[2]),1&e&&(d.reminder=t[0]),3&e&&(d.onCreate=t[5]),f.$set(d)},i(t){m||(_t(s.$$.fragment,t),_t(o.$$.fragment,t),_t(i.$$.fragment,t),_t(u.$$.fragment,t),_t($.$$.fragment,t),_t(f.$$.fragment,t),m=!0)},o(t){wt(s.$$.fragment,t),wt(o.$$.fragment,t),wt(i.$$.fragment,t),wt(u.$$.fragment,t),wt($.$$.fragment,t),wt(f.$$.fragment,t),m=!1},d(t){t&&O(e),jt(s),jt(o),jt(i),jt(u),jt($),jt(f)}}}function ks(t,e,n){let{reminder:s}=e,{remindersWriter:r}=e;const o={isOpen:!1,title:"Редактор сообщение"};return t.$$set=t=>{"reminder"in t&&n(0,s=t.reminder),"remindersWriter"in t&&n(1,r=t.remindersWriter)},[s,r,o,()=>n(2,o.isOpen=!0,o),()=>r.removeReminder(s),t=>r.removeReminder(s,(e=>({...e,...t})))]}class Cs extends Mt{constructor(t){super(),Rt(this,t,ks,bs,i,{reminder:0,remindersWriter:1})}}function qs(t,e,n){const s=t.slice();return s[7]=e[n],s}function Ss(t){let e,n,s,r,o,l,i,c,a,u,d,$;const p=[Ls,Os],f=[];function m(t,e){return t[0].reminders.length?0:1}return s=m(t),r=f[s]=p[s](t),i=new Ge({props:{theme:"add",onClick:t[5],$$slots:{default:[Us]},$$scope:{ctx:t}}}),a=new Ge({props:{theme:"delete",onClick:t[6],$$slots:{default:[Ps]},$$scope:{ctx:t}}}),d=new gs({props:{state:t[3],onCreate:t[4]}}),{c(){e=T("div"),n=T("div"),r.c(),o=P(),l=T("div"),Ut(i.$$.fragment),c=P(),Ut(a.$$.fragment),u=P(),Ut(d.$$.fragment),R(n,"class","group__reminder-list svelte-qc5vd7"),R(l,"class","group__actions svelte-qc5vd7"),R(e,"class","group svelte-qc5vd7")},m(t,r){S(t,e,r),k(e,n),f[s].m(n,null),k(e,o),k(e,l),Pt(i,l,null),k(l,c),Pt(a,l,null),k(e,u),Pt(d,e,null),$=!0},p(t,e){let o=s;s=m(t),s===o?f[s].p(t,e):(yt(),wt(f[o],1,1,(()=>{f[o]=null})),xt(),r=f[s],r?r.p(t,e):(r=f[s]=p[s](t),r.c()),_t(r,1),r.m(n,null));const l={};8&e&&(l.onClick=t[5]),1024&e&&(l.$$scope={dirty:e,ctx:t}),i.$set(l);const c={};3&e&&(c.onClick=t[6]),1024&e&&(c.$$scope={dirty:e,ctx:t}),a.$set(c);const u={};8&e&&(u.state=t[3]),d.$set(u)},i(t){$||(_t(r),_t(i.$$.fragment,t),_t(a.$$.fragment,t),_t(d.$$.fragment,t),$=!0)},o(t){wt(r),wt(i.$$.fragment,t),wt(a.$$.fragment,t),wt(d.$$.fragment,t),$=!1},d(t){t&&O(e),f[s].d(),jt(i),jt(a),jt(d)}}}function Os(e){let n,s;return n=new jn({}),{c(){Ut(n.$$.fragment)},m(t,e){Pt(n,t,e),s=!0},p:t,i(t){s||(_t(n.$$.fragment,t),s=!0)},o(t){wt(n.$$.fragment,t),s=!1},d(t){jt(n,t)}}}function Ls(t){let e,n,s=[],r=new Map,o=Ct(t[0].reminders);const l=t=>t[7].id;for(let e=0;e<o.length;e+=1){let n=qs(t,o,e),i=l(n);r.set(i,s[e]=Ts(i,n))}return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=j()},m(t,r){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,r);S(t,e,r),n=!0},p(t,n){5&n&&(o=Ct(t[0].reminders),yt(),s=Ot(s,n,l,1,t,o,r,e.parentNode,St,Ts,e,qs),xt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)_t(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)wt(s[t]);n=!1},d(t){t&&O(e);for(let e=0;e<s.length;e+=1)s[e].d(t)}}}function Ts(t,e){let n,s,r;return s=new Cs({props:{reminder:e[7],remindersWriter:e[2]}}),{key:t,first:null,c(){n=j(),Ut(s.$$.fragment),this.first=n},m(t,e){S(t,n,e),Pt(s,t,e),r=!0},p(t,n){e=t;const r={};1&n&&(r.reminder=e[7]),4&n&&(r.remindersWriter=e[2]),s.$set(r)},i(t){r||(_t(s.$$.fragment,t),r=!0)},o(t){wt(s.$$.fragment,t),r=!1},d(t){t&&O(n),jt(s,t)}}}function Us(t){let e;return{c(){e=U("Добавить сообщение")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Ps(t){let e;return{c(){e=U("Удалить группу")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function js(t){let e,n,s=t[0]&&Ss(t);return{c(){s&&s.c(),e=j()},m(t,r){s&&s.m(t,r),S(t,e,r),n=!0},p(t,[n]){t[0]?s?(s.p(t,n),1&n&&_t(s,1)):(s=Ss(t),s.c(),_t(s,1),s.m(e.parentNode,e)):s&&(yt(),wt(s,1,1,(()=>{s=null})),xt())},i(t){n||(_t(s),n=!0)},o(t){wt(s),n=!1},d(t){t&&O(e),s&&s.d(t)}}}function Es(t,e,n){let{group:s}=e,{remove:r}=e,{remindersWriter:o}=e;const l={isOpen:!1,title:"Создать сообщение"};return t.$$set=t=>{"group"in t&&n(0,s=t.group),"remove"in t&&n(1,r=t.remove),"remindersWriter"in t&&n(2,o=t.remindersWriter)},[s,r,o,l,t=>{o.createReminder(s.id,t)},()=>n(3,l.isOpen=!0,l),()=>r(s.id)]}class Rs extends Mt{constructor(t){super(),Rt(this,t,Es,js,i,{group:0,remove:1,remindersWriter:2})}}function Ms(t,e,n){const s=t.slice();return s[18]=e[n],s}function zs(t){let e;return{c(){e=U("Новая группа")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Is(t){let e,n,s;return n=new Ge({props:{disabled:!!t[2],onClick:t[8],$$slots:{default:[zs]},$$scope:{ctx:t}}}),{c(){e=T("div"),Ut(n.$$.fragment),R(e,"slot","label")},m(t,r){S(t,e,r),Pt(n,e,null),s=!0},p(t,e){const s={};4&e&&(s.disabled=!!t[2]),2097152&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){s||(_t(n.$$.fragment,t),s=!0)},o(t){wt(n.$$.fragment,t),s=!1},d(t){t&&O(e),jt(n)}}}function Ns(t){let e,n;return{c(){e=T("div"),n=U(t[2]),R(e,"class","error svelte-10gao42")},m(t,s){S(t,e,s),k(e,n)},p(t,e){4&e&&A(n,t[2])},d(t){t&&O(e)}}}function As(t){let e,n,s,r,l,i,c=t[2]&&Ns(t);return{c(){e=T("div"),n=T("input"),r=P(),c&&c.c(),R(n,"type","text"),R(n,"class",s=h(t[2]?"input error":"input")+" svelte-10gao42"),R(e,"slot","elem")},m(s,o){S(s,e,o),k(e,n),t[14](n),B(n,t[1]),k(e,r),c&&c.m(e,null),l||(i=[E(n,"input",t[15]),E(n,"input",t[7]),E(n,"keydown",t[8])],l=!0)},p(t,r){4&r&&s!==(s=h(t[2]?"input error":"input")+" svelte-10gao42")&&R(n,"class",s),2&r&&n.value!==t[1]&&B(n,t[1]),t[2]?c?c.p(t,r):(c=Ns(t),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(n){n&&O(e),t[14](null),c&&c.d(),l=!1,o(i)}}}function Bs(t,e){let n,s,r,o,l,i=e[18].name+"";function c(){return e[16](e[18])}return{key:t,first:null,c(){n=T("div"),s=U(i),r=P(),R(n,"class","tab-list__item svelte-10gao42"),D(n,"tab-list__item--active",e[18].id===e[4]?.id),this.first=n},m(t,e){S(t,n,e),k(n,s),k(n,r),o||(l=E(n,"click",c),o=!0)},p(t,r){e=t,1&r&&i!==(i=e[18].name+"")&&A(s,i),17&r&&D(n,"tab-list__item--active",e[18].id===e[4]?.id)},d(t){t&&O(n),o=!1,l()}}}function Ws(t){let e;return{c(){e=U("Сохранить изменения")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Ds(t){let e,n,s,r,o,l,i,c,a,u,d,$,p=[],f=new Map;s=new rn({props:{$$slots:{elem:[As],label:[Is]},$$scope:{ctx:t}}});let m=Ct(t[0]);const g=t=>t[18].id;for(let e=0;e<m.length;e+=1){let n=Ms(t,m,e),s=g(n);f.set(s,p[e]=Bs(s,n))}return c=new Rs({props:{group:t[4],remove:t[9],remindersWriter:t[6]}}),d=new Ge({props:{theme:"add",onClick:t[10],$$slots:{default:[Ws]},$$scope:{ctx:t}}}),{c(){e=T("section"),n=T("div"),Ut(s.$$.fragment),r=P(),o=T("div"),l=T("dir");for(let t=0;t<p.length;t+=1)p[t].c();i=P(),Ut(c.$$.fragment),a=P(),u=T("div"),Ut(d.$$.fragment),R(n,"class","group__actions svelte-10gao42"),R(l,"class","tab-list svelte-10gao42"),R(o,"class","group__list"),R(u,"class","reminders__actions"),R(e,"class","reminders")},m(t,f){S(t,e,f),k(e,n),Pt(s,n,null),k(e,r),k(e,o),k(o,l);for(let t=0;t<p.length;t+=1)p[t]&&p[t].m(l,null);k(o,i),Pt(c,o,null),k(e,a),k(e,u),Pt(d,u,null),$=!0},p(t,e){const n={};2097166&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n),2065&e&&(m=Ct(t[0]),p=Ot(p,e,g,1,t,m,f,l,qt,Bs,null,Ms));const r={};16&e&&(r.group=t[4]),c.$set(r);const o={};2097152&e&&(o.$$scope={dirty:e,ctx:t}),d.$set(o)},i(t){$||(_t(s.$$.fragment,t),_t(c.$$.fragment,t),_t(d.$$.fragment,t),$=!0)},o(t){wt(s.$$.fragment,t),wt(c.$$.fragment,t),wt(d.$$.fragment,t),$=!1},d(t){t&&O(e),jt(s);for(let t=0;t<p.length;t+=1)p[t].d();jt(c),jt(d)}}}function Hs(t){let e,n;return e=new Ne({props:{h1:"Напоминания",hasUnsavedChanges:t[5],$$slots:{default:[Ds]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};32&n&&(s.hasUnsavedChanges=t[5]),2097183&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function Fs(t,e,n){let s,r;const o=new Un;let l=[],i=[];o.update((t=>{n(0,i=t)}));let c="",a=new Set,u="",d=null,$=null;const p=t=>{n(13,d=t)};Z((async()=>{const t=await cn.reminders.list();o.init(t),n(12,l=t),a=new Set(t.map((t=>t.id))),i.length&&n(13,d=i[0].id)}));return t.$$.update=()=>{4097&t.$$.dirty&&n(5,s=!$n(l,i,((t,e)=>t.id===e.id))),8193&t.$$.dirty&&n(4,r=i.find((t=>t.id===d)))},[i,c,u,$,r,s,o,()=>{a.has(c)?n(2,u="Такое имя уже занято, выберете другое имя"):n(2,u="")},t=>{if(!c)return void $.focus();if("click"!==t.type&&"Enter"!==t.key)return;const e=o.createGroup(c);a.add(c),n(13,d=e.id),n(1,c=""),$.blur()},t=>{const{name:e}=o.removeGroup(t);a.delete(e),t===d&&n(13,d=i[0]?i[0].id:null)},async()=>{try{const t=pn(i,(t=>t.startsWith("_")));await cn.reminders.create(t),n(12,l=await cn.reminders.list()),a=new Set(l.map((t=>t.id)))}catch(t){console.error(t)}},p,l,d,function(t){rt[t?"unshift":"push"]((()=>{$=t,n(3,$)}))},function(){c=this.value,n(1,c)},t=>p(t.id)]}function Gs(t){let e;return{c(){e=U("Delete")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Ks(t){let e,n,s,r,o,l,i,c,a,u,d,$,p,f,m=t[0].type+"",g=("text"===t[0].type?t[0].data:t[0].filename)+"";return d=new Ge({props:{theme:"delete",onClick:t[6],$$slots:{default:[Gs]},$$scope:{ctx:t}}}),d.$on("hovered",t[7]),{c(){e=T("div"),n=T("div"),s=U(m),r=P(),o=T("div"),l=U(g),i=P(),c=T("input"),u=P(),Ut(d.$$.fragment),R(n,"class","part__type svelte-6zsxr6"),R(o,"class","text"),R(c,"type","number"),R(c,"class","part__order"),c.value=a=t[0].order,R(e,"class","part svelte-6zsxr6"),D(e,"part--hover",t[4]),D(e,"part--odd",t[1]%2!=0)},m(a,m){S(a,e,m),k(e,n),k(n,s),k(e,r),k(e,o),k(o,l),k(e,i),k(e,c),k(e,u),Pt(d,e,null),$=!0,p||(f=E(c,"input",t[5]),p=!0)},p(t,[n]){(!$||1&n)&&m!==(m=t[0].type+"")&&A(s,m),(!$||1&n)&&g!==(g=("text"===t[0].type?t[0].data:t[0].filename)+"")&&A(l,g),(!$||1&n&&a!==(a=t[0].order)&&c.value!==a)&&(c.value=a);const r={};9&n&&(r.onClick=t[6]),256&n&&(r.$$scope={dirty:n,ctx:t}),d.$set(r),(!$||16&n)&&D(e,"part--hover",t[4]),(!$||2&n)&&D(e,"part--odd",t[1]%2!=0)},i(t){$||(_t(d.$$.fragment,t),$=!0)},o(t){wt(d.$$.fragment,t),$=!1},d(t){t&&O(e),jt(d),p=!1,f()}}}function Js(t,e,n){let{part:s={}}=e,{number:r}=e,{onUpdate:o}=e,{onRemove:l}=e,i=!1;return t.$$set=t=>{"part"in t&&n(0,s=t.part),"number"in t&&n(1,r=t.number),"onUpdate"in t&&n(2,o=t.onUpdate),"onRemove"in t&&n(3,l=t.onRemove)},[s,r,o,l,i,t=>o({id:s.id,order:t.target.value}),()=>l(s),({detail:t})=>{n(4,i=t.state)}]}class Ys extends Mt{constructor(t){super(),Rt(this,t,Js,Ks,i,{part:0,number:1,onUpdate:2,onRemove:3})}}function Qs(t,e,n){const s=t.slice();return s[12]=e[n],s}function Vs(e){let n;return{c(){n=T("label"),n.textContent="Тип сообщения",R(n,"slot","label"),R(n,"for","msg-type")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function Xs(e){let n,s,r,o=e[12]+"";return{c(){n=T("option"),s=U(o),r=P(),n.__value=e[12],B(n,n.__value)},m(t,e){S(t,n,e),k(n,s),k(n,r)},p:t,d(t){t&&O(n)}}}function Zs(t){let e,n,s,r=Ct(t[3]),l=[];for(let e=0;e<r.length;e+=1)l[e]=Xs(Qs(t,r,e));return{c(){e=T("select");for(let t=0;t<l.length;t+=1)l[t].c();R(e,"slot","elem"),R(e,"id","msg-type"),R(e,"class","svelte-99c4od"),void 0===t[1].type&&at((()=>t[8].call(e)))},m(r,o){S(r,e,o);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null);W(e,t[1].type,!0),n||(s=[E(e,"change",t[8]),E(e,"change",t[9])],n=!0)},p(t,n){if(8&n){let s;for(r=Ct(t[3]),s=0;s<r.length;s+=1){const o=Qs(t,r,s);l[s]?l[s].p(o,n):(l[s]=Xs(o),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=r.length}10&n&&W(e,t[1].type)},d(t){t&&O(e),L(l,t),n=!1,o(s)}}}function tr(t){let e,n;return e=new rn({props:{$$slots:{elem:[or],label:[rr]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,n){const s={};32768&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function er(t){let e,n;return e=new rn({props:{$$slots:{elem:[ir],label:[lr]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,n){const s={};32768&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function nr(t){let e,n;return e=new rn({props:{$$slots:{elem:[ar],label:[cr]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,n){const s={};32768&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function sr(t){let e,n;return e=new rn({props:{$$slots:{elem:[dr],label:[ur]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,n){const s={};32770&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function rr(e){let n;return{c(){n=T("label"),n.textContent="Ваше видео",R(n,"slot","label"),R(n,"for","msg-video")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function or(e){let n,s,r;return{c(){n=T("input"),R(n,"slot","elem"),R(n,"type","file"),R(n,"accept",".mp4")},m(t,o){S(t,n,o),s||(r=E(n,"change",e[4]),s=!0)},p:t,d(t){t&&O(n),s=!1,r()}}}function lr(e){let n;return{c(){n=T("label"),n.textContent="Ваше аудио",R(n,"slot","label"),R(n,"for","msg-audio")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function ir(e){let n,s,r;return{c(){n=T("input"),R(n,"slot","elem"),R(n,"type","file"),R(n,"accept",".mp3, .aac")},m(t,o){S(t,n,o),s||(r=E(n,"change",e[4]),s=!0)},p:t,d(t){t&&O(n),s=!1,r()}}}function cr(e){let n;return{c(){n=T("label"),n.textContent="Ваше изображение",R(n,"slot","label"),R(n,"for","msg-img")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function ar(e){let n,s,r;return{c(){n=T("input"),R(n,"slot","elem"),R(n,"id","msg-img"),R(n,"type","file"),R(n,"accept","image/png, image/jpeg")},m(t,o){S(t,n,o),s||(r=E(n,"change",e[4]),s=!0)},p:t,d(t){t&&O(n),s=!1,r()}}}function ur(e){let n;return{c(){n=T("label"),n.textContent="Ваш текст",R(n,"slot","label"),R(n,"for","msg-text")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function dr(t){let e,n,s;return{c(){e=T("textarea"),R(e,"slot","elem"),R(e,"id","msg-text"),R(e,"placeholder","Текст сообщения")},m(r,o){S(r,e,o),B(e,t[1].data),n||(s=E(e,"input",t[10]),n=!0)},p(t,n){10&n&&B(e,t[1].data)},d(t){t&&O(e),n=!1,s()}}}function $r(t){let e,n;return{c(){e=T("div"),n=U(t[2]),R(e,"class","error svelte-99c4od")},m(t,s){S(t,e,s),k(e,n)},p(t,e){4&e&&A(n,t[2])},d(t){t&&O(e)}}}function pr(e){let n;return{c(){n=T("label"),n.textContent="Порядковый номер",R(n,"slot","label"),R(n,"for","order")},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function fr(t){let e,n,s;return{c(){e=T("input"),R(e,"slot","elem"),R(e,"id","order"),R(e,"type","number"),R(e,"class","svelte-99c4od")},m(r,o){S(r,e,o),B(e,t[1].order),n||(s=E(e,"input",t[11]),n=!0)},p(t,n){10&n&&N(e.value)!==t[1].order&&B(e,t[1].order)},d(t){t&&O(e),n=!1,s()}}}function mr(t){let e,n,s,r,o,l,i,c,a,u,d,$;s=new rn({props:{$$slots:{elem:[Zs],label:[Vs]},$$scope:{ctx:t}}});const p=[sr,nr,er,tr],f=[];function m(t,e){return"text"===t[1].type?0:"image"===t[1].type?1:"audio"===t[1].type?2:"video"===t[1].type?3:-1}~(l=m(t))&&(i=f[l]=p[l](t));let g=t[2]&&$r(t);return d=new rn({props:{$$slots:{elem:[fr],label:[pr]},$$scope:{ctx:t}}}),{c(){e=T("div"),n=T("div"),Ut(s.$$.fragment),r=P(),o=T("div"),i&&i.c(),c=P(),g&&g.c(),a=P(),u=T("div"),Ut(d.$$.fragment),R(n,"class","message-editor__type svelte-99c4od"),R(o,"class","message-editor__value"),R(u,"class","message-editor__order svelte-99c4od"),R(e,"slot","content"),R(e,"class","message-editor")},m(t,i){S(t,e,i),k(e,n),Pt(s,n,null),k(e,r),k(e,o),~l&&f[l].m(o,null),k(o,c),g&&g.m(o,null),k(e,a),k(e,u),Pt(d,u,null),$=!0},p(t,e){const n={};32774&e&&(n.$$scope={dirty:e,ctx:t}),s.$set(n);let r=l;l=m(t),l===r?~l&&f[l].p(t,e):(i&&(yt(),wt(f[r],1,1,(()=>{f[r]=null})),xt()),~l?(i=f[l],i?i.p(t,e):(i=f[l]=p[l](t),i.c()),_t(i,1),i.m(o,c)):i=null),t[2]?g?g.p(t,e):(g=$r(t),g.c(),g.m(o,null)):g&&(g.d(1),g=null);const a={};32770&e&&(a.$$scope={dirty:e,ctx:t}),d.$set(a)},i(t){$||(_t(s.$$.fragment,t),_t(i),_t(d.$$.fragment,t),$=!0)},o(t){wt(s.$$.fragment,t),wt(i),wt(d.$$.fragment,t),$=!1},d(t){t&&O(e),jt(s),~l&&f[l].d(),g&&g.d(),jt(d)}}}function gr(t){let e;return{c(){e=U("Сохранить")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function hr(t){let e;return{c(){e=U("Закрыть")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function vr(t){let e,n,s,r,o;return n=new Ge({props:{onClick:t[5],$$slots:{default:[gr]},$$scope:{ctx:t}}}),r=new Ge({props:{onClick:t[7],$$slots:{default:[hr]},$$scope:{ctx:t}}}),{c(){e=T("div"),Ut(n.$$.fragment),s=P(),Ut(r.$$.fragment),R(e,"slot","actions"),R(e,"class","message-editor__button svelte-99c4od")},m(t,l){S(t,e,l),Pt(n,e,null),k(e,s),Pt(r,e,null),o=!0},p(t,e){const s={};32768&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s);const o={};1&e&&(o.onClick=t[7]),32768&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o)},i(t){o||(_t(n.$$.fragment,t),_t(r.$$.fragment,t),o=!0)},o(t){wt(n.$$.fragment,t),wt(r.$$.fragment,t),o=!1},d(t){t&&O(e),jt(n),jt(r)}}}function yr(t){let e,n;return e=new Bn({props:{state:t[0],width:"620px",$$slots:{actions:[vr],content:[mr]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.state=t[0]),32775&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function xr(t,e,n){let{state:s}=e,{onCreate:r}=e;const o=["text","image","audio","video"],l={type:"text",data:"",order:0};let i="";return t.$$set=t=>{"state"in t&&n(0,s=t.state),"onCreate"in t&&n(6,r=t.onCreate)},[s,l,i,o,t=>{n(2,i="");const e=t.target.files?.[0];e&&(n(1,l.size=e.size/1024/1024,l),n(1,l.filename=e.name,l),n(1,l.data=e,l),l.size>10&&n(2,i="Размер файла превышает 10мб. Выберете файл допустимого размера."))},async()=>{const t=l.type;if(l.data){if("text"===t)r({part:structuredClone(l)});else{if(l.size>10)return;const e=new FormData;e.append("type",t),e.append("data",l.data),n(1,l.data=l.filename,l),r({upload:async()=>await cn.files.upload(e),part:structuredClone(l)})}n(1,l.type="text",l),n(1,l.data="",l),n(1,l.order+=1,l),n(1,l.filename="",l),n(1,l.size=0,l),n(0,s.isOpen=!1,s),n(0,s.title="",s)}else n(2,i="text"===t?"Сообщение не может быть пустым, добавьте необходимый текст.":"Вы не прикрепили файл.")},r,()=>n(0,s.isOpen=!1,s),function(){l.type=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),n(1,l),n(3,o)},()=>n(2,i=""),function(){l.data=this.value,n(1,l),n(3,o)},function(){l.order=N(this.value),n(1,l),n(3,o)}]}class _r extends Mt{constructor(t){super(),Rt(this,t,xr,yr,i,{state:0,onCreate:6})}}function wr(t){let e,n,s,r,o;return n=new rs({props:{keyboard:t[1],cursor:t[2]}}),r=new Qn({props:{controls:t[4],cursor:t[2],buttonTypes:t[3]}}),{c(){e=T("div"),Ut(n.$$.fragment),s=P(),Ut(r.$$.fragment),R(e,"slot","content"),R(e,"class","modal__content")},m(t,l){S(t,e,l),Pt(n,e,null),k(e,s),Pt(r,e,null),o=!0},p(t,e){const s={};2&e&&(s.keyboard=t[1]),4&e&&(s.cursor=t[2]),n.$set(s);const o={};4&e&&(o.cursor=t[2]),8&e&&(o.buttonTypes=t[3]),r.$set(o)},i(t){o||(_t(n.$$.fragment,t),_t(r.$$.fragment,t),o=!0)},o(t){wt(n.$$.fragment,t),wt(r.$$.fragment,t),o=!1},d(t){t&&O(e),jt(n),jt(r)}}}function br(t){let e;return{c(){e=U("Сохранить")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function kr(t){let e;return{c(){e=U("Закрыть")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Cr(t){let e,n,s,r,o;return n=new Ge({props:{onClick:t[5],$$slots:{default:[br]},$$scope:{ctx:t}}}),r=new Ge({props:{onClick:t[7],$$slots:{default:[kr]},$$scope:{ctx:t}}}),{c(){e=T("div"),Ut(n.$$.fragment),s=P(),Ut(r.$$.fragment),R(e,"slot","actions"),R(e,"class","modal__actions svelte-xn3vl")},m(t,l){S(t,e,l),Pt(n,e,null),k(e,s),Pt(r,e,null),o=!0},p(t,e){const s={};256&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s);const o={};1&e&&(o.onClick=t[7]),256&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o)},i(t){o||(_t(n.$$.fragment,t),_t(r.$$.fragment,t),o=!0)},o(t){wt(n.$$.fragment,t),wt(r.$$.fragment,t),o=!1},d(t){t&&O(e),jt(n),jt(r)}}}function qr(t){let e,n;return e=new Bn({props:{state:t[0],width:"620px",$$slots:{actions:[Cr],content:[wr]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.state=t[0]),271&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function Sr(t,e,n){let{state:s}=e,{onCreate:r}=e;const o=new os({text:""});let l=o.keyboard,i=o.cursor;o.on("update",(({state:t,cursor:e})=>{n(1,l=t),n(2,i=e)}));let c=[];Z((async()=>{const{list:t}=await cn.aliases.list();n(3,c=t.map((t=>[t.name,t.action.value])))}));return t.$$set=t=>{"state"in t&&n(0,s=t.state),"onCreate"in t&&n(6,r=t.onCreate)},[s,l,i,c,o,()=>{const t=o.build((t=>!!t.text));r(t),n(0,s.isOpen=!1,s),n(0,s.title="",s)},r,()=>n(0,s.isOpen=!1,s)]}class Or extends Mt{constructor(t){super(),Rt(this,t,Sr,qr,i,{state:0,onCreate:6})}}function Lr(t,e,n){const s=t.slice();return s[10]=e[n],s}function Tr(t,e){let n,s,r,o,l,i,c,a=e[10].label+"";return l=I(e[8][0]),{key:t,first:null,c(){n=T("label"),s=T("input"),r=P(),o=U(a),R(s,"type","radio"),s.__value=e[10].id,B(s,s.__value),l.p(s),this.first=n},m(t,l){S(t,n,l),k(n,s),s.checked=s.__value===e[2],k(n,r),k(n,o),i||(c=E(s,"change",e[7]),i=!0)},p(t,n){e=t,4&n&&(s.checked=s.__value===e[2])},d(t){t&&O(n),l.r(),i=!1,c()}}}function Ur(t){let e,n,s,r;return{c(){e=T("div"),n=T("input"),R(n,"type","text"),R(e,"class","input__block")},m(o,l){S(o,e,l),k(e,n),B(n,t[1]),s||(r=E(n,"input",t[9]),s=!0)},p(t,e){2&e&&n.value!==t[1]&&B(n,t[1])},d(t){t&&O(e),s=!1,r()}}}function Pr(t){let e,n,s,r=[],o=new Map,l=[1,2].includes(t[2]),i=Ct(t[3]);const c=t=>t[10].id;for(let e=0;e<i.length;e+=1){let n=Lr(t,i,e),s=c(n);o.set(s,r[e]=Tr(s,n))}let a=l&&Ur(t);return{c(){e=T("div"),n=T("div");for(let t=0;t<r.length;t+=1)r[t].c();s=P(),a&&a.c(),R(n,"class","radio__block"),R(e,"slot","content")},m(t,o){S(t,e,o),k(e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(n,null);k(e,s),a&&a.m(e,null)},p(t,s){12&s&&(i=Ct(t[3]),r=Ot(r,s,c,1,t,i,o,n,qt,Tr,null,Lr)),4&s&&(l=[1,2].includes(t[2])),l?a?a.p(t,s):(a=Ur(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(t){t&&O(e);for(let t=0;t<r.length;t+=1)r[t].d();a&&a.d()}}}function jr(t){let e;return{c(){e=U("Сохранить")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Er(t){let e;return{c(){e=U("Закрыть")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Rr(t){let e,n,s,r,o;return n=new Ge({props:{onClick:t[4],$$slots:{default:[jr]},$$scope:{ctx:t}}}),r=new Ge({props:{theme:"delete",onClick:t[6],$$slots:{default:[Er]},$$scope:{ctx:t}}}),{c(){e=T("div"),Ut(n.$$.fragment),s=P(),Ut(r.$$.fragment),R(e,"slot","actions"),R(e,"class","modal__actions svelte-xn3vl")},m(t,l){S(t,e,l),Pt(n,e,null),k(e,s),Pt(r,e,null),o=!0},p(t,e){const s={};8192&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s);const o={};5&e&&(o.onClick=t[6]),8192&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o)},i(t){o||(_t(n.$$.fragment,t),_t(r.$$.fragment,t),o=!0)},o(t){wt(n.$$.fragment,t),wt(r.$$.fragment,t),o=!1},d(t){t&&O(e),jt(n),jt(r)}}}function Mr(t){let e,n;return e=new Bn({props:{state:t[0],width:"620px",$$slots:{actions:[Rr],content:[Pr]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.state=t[0]),8199&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function zr(t,e,n){let{state:s}=e,{onCreate:r}=e,o="",l=null;const i=[{id:0,label:"Пользователь отправил любое сообщение",handler:t=>!!t},{id:1,label:"Сообщение пользователя содержит текст",handler:t=>t.includes(o)},{id:2,label:"Сообщение пользователя не содержит текст",handler:t=>!!t}];return t.$$set=t=>{"state"in t&&n(0,s=t.state),"onCreate"in t&&n(5,r=t.onCreate)},[s,o,l,i,()=>{let t=null;const e=i.find((t=>t.id===l));e&&(t=e),r(t),n(0,s.isOpen=!1,s),n(0,s.title="",s)},r,()=>{n(2,l=null),n(0,s.isOpen=!1,s),n(0,s.title="",s)},function(){l=this.__value,n(2,l)},[[]],function(){o=this.value,n(1,o)}]}class Ir extends Mt{constructor(t){super(),Rt(this,t,zr,Mr,i,{state:0,onCreate:5})}}function Nr(t,e,n){const s=t.slice();return s[15]=e[n],s[17]=n,s}function Ar(e){let n,s;return n=new jn({}),{c(){Ut(n.$$.fragment)},m(t,e){Pt(n,t,e),s=!0},p:t,i(t){s||(_t(n.$$.fragment,t),s=!0)},o(t){wt(n.$$.fragment,t),s=!1},d(t){jt(n,t)}}}function Br(t){let e,n,s=[],r=new Map,o=Ct(t[0].message);const l=t=>t[15].id;for(let e=0;e<o.length;e+=1){let n=Nr(t,o,e),i=l(n);r.set(i,s[e]=Wr(i,n))}return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=j()},m(t,r){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,r);S(t,e,r),n=!0},p(t,n){97&n&&(o=Ct(t[0].message),yt(),s=Ot(s,n,l,1,t,o,r,e.parentNode,St,Wr,e,Nr),xt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)_t(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)wt(s[t]);n=!1},d(t){t&&O(e);for(let e=0;e<s.length;e+=1)s[e].d(t)}}}function Wr(t,e){let n,s,r;return s=new Ys({props:{part:e[15],number:e[17]+1,onUpdate:e[5],onRemove:e[6]}}),{key:t,first:null,c(){n=j(),Ut(s.$$.fragment),this.first=n},m(t,e){S(t,n,e),Pt(s,t,e),r=!0},p(t,n){e=t;const r={};1&n&&(r.part=e[15]),1&n&&(r.number=e[17]+1),s.$set(r)},i(t){r||(_t(s.$$.fragment,t),r=!0)},o(t){wt(s.$$.fragment,t),r=!1},d(t){t&&O(n),jt(s,t)}}}function Dr(t){let e;return{c(){e=U("Добавить сообщение")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Hr(t){let e,n=t[0].keyboard.length?"Редактировать клавиатуру":"Добавить клавиатуру";return{c(){e=U(n)},m(t,n){S(t,e,n)},p(t,s){1&s&&n!==(n=t[0].keyboard.length?"Редактировать клавиатуру":"Добавить клавиатуру")&&A(e,n)},d(t){t&&O(e)}}}function Fr(t){let e,n=t[0].transitionTrigger?"Редактировать триггер":"Добавить триггер";return{c(){e=U(n)},m(t,n){S(t,e,n)},p(t,s){1&s&&n!==(n=t[0].transitionTrigger?"Редактировать триггер":"Добавить триггер")&&A(e,n)},d(t){t&&O(e)}}}function Gr(t){let e;return{c(){e=U("Удалить шаг")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Kr(t){let e,n,s,r,o,l,i,c,a,u,d,$,p,f,m,g,h,v,y,x,_,w,b,C,q,L,j,E,M,z,I,N,B=(t[0].transitionTrigger?t[0].transitionTrigger.label:"не добавлен")+"";const W=[Br,Ar],H=[];function F(t,e){return t[0].message.length>0?0:1}return c=F(t),a=H[c]=W[c](t),d=new rs({props:{keyboard:t[0].keyboard}}),y=new Ge({props:{theme:"add",onClick:t[9],$$slots:{default:[Dr]},$$scope:{ctx:t}}}),_=new Ge({props:{theme:"add",onClick:t[10],$$slots:{default:[Hr]},$$scope:{ctx:t}}}),b=new Ge({props:{theme:"add",onClick:t[11],$$slots:{default:[Fr]},$$scope:{ctx:t}}}),q=new Ge({props:{theme:"delete",onClick:t[7],$$slots:{default:[Gr]},$$scope:{ctx:t}}}),q.$on("hovered",t[12]),j=new _r({props:{state:t[3].message,onCreate:t[8]}}),M=new Or({props:{state:t[3].keyboard,onCreate:t[13]}}),I=new Ir({props:{state:t[3].trigger,onCreate:t[14]}}),{c(){e=T("div"),n=T("div"),s=U(t[1]),r=P(),o=T("div"),l=T("div"),l.textContent="Сообщение:",i=P(),a.c(),u=P(),Ut(d.$$.fragment),$=P(),p=T("div"),f=T("span"),f.textContent="Триггер перехода:",m=P(),g=U(B),h=P(),v=T("div"),Ut(y.$$.fragment),x=P(),Ut(_.$$.fragment),w=P(),Ut(b.$$.fragment),C=P(),Ut(q.$$.fragment),L=P(),Ut(j.$$.fragment),E=P(),Ut(M.$$.fragment),z=P(),Ut(I.$$.fragment),R(n,"class","step__number svelte-hw5v2x"),R(l,"class","step-message__title weight600 svelte-hw5v2x"),R(f,"class","weight600 svelte-hw5v2x"),R(p,"class","step__trigger"),R(v,"class","step__actions svelte-hw5v2x"),R(o,"class","step-message"),R(e,"class","step svelte-hw5v2x"),D(e,"step--hover",t[4])},m(t,a){S(t,e,a),k(e,n),k(n,s),k(e,r),k(e,o),k(o,l),k(o,i),H[c].m(o,null),k(o,u),Pt(d,o,null),k(o,$),k(o,p),k(p,f),k(p,m),k(p,g),k(o,h),k(o,v),Pt(y,v,null),k(v,x),Pt(_,v,null),k(v,w),Pt(b,v,null),k(v,C),Pt(q,v,null),S(t,L,a),Pt(j,t,a),S(t,E,a),Pt(M,t,a),S(t,z,a),Pt(I,t,a),N=!0},p(t,[n]){(!N||2&n)&&A(s,t[1]);let r=c;c=F(t),c===r?H[c].p(t,n):(yt(),wt(H[r],1,1,(()=>{H[r]=null})),xt(),a=H[c],a?a.p(t,n):(a=H[c]=W[c](t),a.c()),_t(a,1),a.m(o,u));const l={};1&n&&(l.keyboard=t[0].keyboard),d.$set(l),(!N||1&n)&&B!==(B=(t[0].transitionTrigger?t[0].transitionTrigger.label:"не добавлен")+"")&&A(g,B);const i={};8&n&&(i.onClick=t[9]),262144&n&&(i.$$scope={dirty:n,ctx:t}),y.$set(i);const $={};8&n&&($.onClick=t[10]),262145&n&&($.$$scope={dirty:n,ctx:t}),_.$set($);const p={};8&n&&(p.onClick=t[11]),262145&n&&(p.$$scope={dirty:n,ctx:t}),b.$set(p);const f={};262144&n&&(f.$$scope={dirty:n,ctx:t}),q.$set(f),(!N||16&n)&&D(e,"step--hover",t[4]);const m={};8&n&&(m.state=t[3].message),j.$set(m);const h={};8&n&&(h.state=t[3].keyboard),5&n&&(h.onCreate=t[13]),M.$set(h);const v={};8&n&&(v.state=t[3].trigger),5&n&&(v.onCreate=t[14]),I.$set(v)},i(t){N||(_t(a),_t(d.$$.fragment,t),_t(y.$$.fragment,t),_t(_.$$.fragment,t),_t(b.$$.fragment,t),_t(q.$$.fragment,t),_t(j.$$.fragment,t),_t(M.$$.fragment,t),_t(I.$$.fragment,t),N=!0)},o(t){wt(a),wt(d.$$.fragment,t),wt(y.$$.fragment,t),wt(_.$$.fragment,t),wt(b.$$.fragment,t),wt(q.$$.fragment,t),wt(j.$$.fragment,t),wt(M.$$.fragment,t),wt(I.$$.fragment,t),N=!1},d(t){t&&(O(e),O(L),O(E),O(z)),H[c].d(),jt(d),jt(y),jt(_),jt(b),jt(q),jt(j,t),jt(M,t),jt(I,t)}}}function Jr(t,e,n){let{step:s={}}=e,{number:r}=e,{writer:o}=e;const l={message:{isOpen:!1,title:""},keyboard:{isOpen:!1,title:""},trigger:{isOpen:!1,title:""}};let i=!1;return t.$$set=t=>{"step"in t&&n(0,s=t.step),"number"in t&&n(1,r=t.number),"writer"in t&&n(2,o=t.writer)},[s,r,o,l,i,({id:t,order:e,data:n})=>o.updPart(s,t,(t=>(void 0!==e&&(t.order=e),n&&(t.data=n),t))),async t=>{try{Le.update((e=>[...e,t.filename])),o.removePart(t),Oe.update((e=>e.filter((e=>e.id!==t.id))))}catch(t){console.error(t)}},async()=>{try{const t=s.message.map((t=>t.filename));Le.update((e=>[...e,...t])),o.removeStep(s)}catch(t){console.error(t)}},({part:t,upload:e})=>{o.addPartToMsg(s,t),e&&Oe.update((n=>[...n,{id:t.id,size:t.size,filename:t.filename,upload:e}]))},()=>{n(3,l.message.isOpen=!0,l),n(3,l.message.title="Редактор сообщения",l)},()=>{n(3,l.keyboard.isOpen=!0,l),n(3,l.keyboard.title="Редактор клавиатуры",l)},()=>{n(3,l.trigger.isOpen=!0,l),n(3,l.trigger.title="Редактор триггера",l)},({detail:t})=>{n(4,i=t.state)},t=>o.addKeyboardToMsg(s,t),t=>o.addTransitionTriggerToMsg(s,t)]}class Yr extends Mt{constructor(t){super(),Rt(this,t,Jr,Kr,i,{step:0,number:1,writer:2})}}function Qr(t,e,n){const s=t.slice();return s[10]=e[n],s}function Vr(t,e){let n,s,r,o,l,i,c,a,u=!1,d=e[10].title+"";return i=I(e[8][0]),{key:t,first:null,c(){n=T("label"),s=T("input"),o=P(),l=U(d),R(s,"type","radio"),s.__value=r=e[10].id,B(s,s.__value),i.p(s),this.first=n},m(t,r){S(t,n,r),k(n,s),s.checked=s.__value===e[2],k(n,o),k(n,l),c||(a=E(s,"change",e[7]),c=!0)},p(t,n){e=t,2&n&&r!==(r=e[10].id)&&(s.__value=r,B(s,s.__value),u=!0),(u||4&n)&&(s.checked=s.__value===e[2]),2&n&&d!==(d=e[10].title+"")&&A(l,d)},d(t){t&&O(n),i.r(),c=!1,a()}}}function Xr(t){let e,n,s,r,o,l,i,c,a,u=[],d=new Map,$=Ct(t[1]);const p=t=>t[10].id;for(let e=0;e<$.length;e+=1){let n=Qr(t,$,e),s=p(n);d.set(s,u[e]=Vr(s,n))}return i=I(t[8][0]),{c(){e=T("div"),n=T("div");for(let t=0;t<u.length;t+=1)u[t].c();s=P(),r=T("label"),o=T("input"),l=U("\n        без напоминаний"),R(o,"type","radio"),o.__value=null,B(o,o.__value),R(n,"class","radio__block"),R(e,"slot","content"),i.p(o)},m(i,d){S(i,e,d),k(e,n);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(n,null);k(n,s),k(n,r),k(r,o),o.checked=o.__value===t[2],k(r,l),c||(a=E(o,"change",t[9]),c=!0)},p(t,e){6&e&&($=Ct(t[1]),u=Ot(u,e,p,1,t,$,d,n,qt,Vr,s,Qr)),4&e&&(o.checked=o.__value===t[2])},d(t){t&&O(e);for(let t=0;t<u.length;t+=1)u[t].d();i.r(),c=!1,a()}}}function Zr(t){let e;return{c(){e=U("Сохранить")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function to(t){let e;return{c(){e=U("Закрыть")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function eo(t){let e,n,s,r,o;return n=new Ge({props:{onClick:t[3],$$slots:{default:[Zr]},$$scope:{ctx:t}}}),r=new Ge({props:{theme:"delete",onClick:t[6],$$slots:{default:[to]},$$scope:{ctx:t}}}),{c(){e=T("div"),Ut(n.$$.fragment),s=P(),Ut(r.$$.fragment),R(e,"slot","actions"),R(e,"class","modal__actions svelte-xn3vl")},m(t,l){S(t,e,l),Pt(n,e,null),k(e,s),Pt(r,e,null),o=!0},p(t,e){const s={};8192&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s);const o={};5&e&&(o.onClick=t[6]),8192&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o)},i(t){o||(_t(n.$$.fragment,t),_t(r.$$.fragment,t),o=!0)},o(t){wt(n.$$.fragment,t),wt(r.$$.fragment,t),o=!1},d(t){t&&O(e),jt(n),jt(r)}}}function no(t){let e,n;return e=new Bn({props:{state:t[0],width:"620px",$$slots:{actions:[eo],content:[Xr]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};1&n&&(s.state=t[0]),8199&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function so(t,e,n){let{state:s}=e,{onCreate:r}=e,{remindersList:o=[]}=e,{currentRemindersId:l}=e,i=l||null;return t.$$set=t=>{"state"in t&&n(0,s=t.state),"onCreate"in t&&n(4,r=t.onCreate),"remindersList"in t&&n(1,o=t.remindersList),"currentRemindersId"in t&&n(5,l=t.currentRemindersId)},[s,o,i,()=>{const t=o.find((t=>t.id===i))||null;r(t),n(0,s.isOpen=!1,s),n(2,i=null)},r,l,()=>{n(2,i=null),n(0,s.isOpen=!1,s)},function(){i=this.__value,n(2,i)},[[]],function(){i=this.__value,n(2,i)}]}class ro extends Mt{constructor(t){super(),Rt(this,t,so,no,i,{state:0,onCreate:4,remindersList:1,currentRemindersId:5})}}function oo(t,e,n){const s=t.slice();return s[14]=e[n],s[16]=n,s}function lo(e){let n,s;return n=new jn({}),{c(){Ut(n.$$.fragment)},m(t,e){Pt(n,t,e),s=!0},p:t,i(t){s||(_t(n.$$.fragment,t),s=!0)},o(t){wt(n.$$.fragment,t),s=!1},d(t){jt(n,t)}}}function io(t){let e,n,s=[],r=new Map,o=Ct(t[0].steps);const l=t=>t[14].id;for(let e=0;e<o.length;e+=1){let n=oo(t,o,e),i=l(n);r.set(i,s[e]=co(i,n))}return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=j()},m(t,r){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,r);S(t,e,r),n=!0},p(t,n){9&n&&(o=Ct(t[0].steps),yt(),s=Ot(s,n,l,1,t,o,r,e.parentNode,St,co,e,oo),xt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)_t(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)wt(s[t]);n=!1},d(t){t&&O(e);for(let e=0;e<s.length;e+=1)s[e].d(t)}}}function co(t,e){let n,s,r;return s=new Yr({props:{step:e[14],writer:e[3],number:e[16]+1}}),{key:t,first:null,c(){n=j(),Ut(s.$$.fragment),this.first=n},m(t,e){S(t,n,e),Pt(s,t,e),r=!0},p(t,n){e=t;const r={};1&n&&(r.step=e[14]),8&n&&(r.writer=e[3]),1&n&&(r.number=e[16]+1),s.$set(r)},i(t){r||(_t(s.$$.fragment,t),r=!0)},o(t){wt(s.$$.fragment,t),r=!1},d(t){t&&O(n),jt(s,t)}}}function ao(t){let e;return{c(){e=U("Удалить сцену")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function uo(t){let e;return{c(){e=U("Добавить напоминания")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function $o(t){let e;return{c(){e=U("Добавить шаг")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function po(t){let e,n,s,r,o,l,i,c,a,u,d,$,p,f,m,g,h,v,y,x,_,w,b,C,q=t[7].title+"";const L=[io,lo],j=[];function E(t,e){return t[0].steps.length?0:1}return p=E(t),f=j[p]=L[p](t),h=new Ge({props:{theme:"delete",onClick:t[9],$$slots:{default:[ao]},$$scope:{ctx:t}}}),h.$on("hovered",t[10]),y=new Ge({props:{theme:"add",onClick:t[11],$$slots:{default:[uo]},$$scope:{ctx:t}}}),y.$on("hovered",t[12]),_=new Ge({props:{theme:"add",onClick:t[13],$$slots:{default:[$o]},$$scope:{ctx:t}}}),b=new ro({props:{state:t[6],remindersList:t[1],onCreate:t[8],currentRemindersId:t[7]?.id}}),{c(){e=T("div"),n=T("div"),s=U(t[2]),r=P(),o=T("div"),l=T("div"),i=T("span"),i.textContent="Напоминание:",c=P(),a=U(q),u=P(),d=T("div"),d.textContent="Шаги:",$=P(),f.c(),m=P(),g=T("div"),Ut(h.$$.fragment),v=P(),Ut(y.$$.fragment),x=P(),Ut(_.$$.fragment),w=P(),Ut(b.$$.fragment),R(n,"class","scene__number svelte-1qi6up7"),R(i,"class","weight600 svelte-1qi6up7"),R(l,"class","scene__reminders svelte-1qi6up7"),D(l,"scene__reminders--hover",t[5]),R(d,"class","scene__steps-title weight600 svelte-1qi6up7"),R(o,"class","scene__content svelte-1qi6up7"),R(g,"class","scene__actions svelte-1qi6up7"),R(e,"class","scene svelte-1qi6up7"),D(e,"scene--hover",t[4])},m(t,f){S(t,e,f),k(e,n),k(n,s),k(e,r),k(e,o),k(o,l),k(l,i),k(l,c),k(l,a),k(o,u),k(o,d),k(o,$),j[p].m(o,null),k(e,m),k(e,g),Pt(h,g,null),k(g,v),Pt(y,g,null),k(g,x),Pt(_,g,null),k(e,w),Pt(b,e,null),C=!0},p(t,[n]){(!C||4&n)&&A(s,t[2]),(!C||128&n)&&q!==(q=t[7].title+"")&&A(a,q),(!C||32&n)&&D(l,"scene__reminders--hover",t[5]);let r=p;p=E(t),p===r?j[p].p(t,n):(yt(),wt(j[r],1,1,(()=>{j[r]=null})),xt(),f=j[p],f?f.p(t,n):(f=j[p]=L[p](t),f.c()),_t(f,1),f.m(o,null));const i={};131072&n&&(i.$$scope={dirty:n,ctx:t}),h.$set(i);const c={};64&n&&(c.onClick=t[11]),131072&n&&(c.$$scope={dirty:n,ctx:t}),y.$set(c);const u={};9&n&&(u.onClick=t[13]),131072&n&&(u.$$scope={dirty:n,ctx:t}),_.$set(u);const d={};64&n&&(d.state=t[6]),2&n&&(d.remindersList=t[1]),128&n&&(d.currentRemindersId=t[7]?.id),b.$set(d),(!C||16&n)&&D(e,"scene--hover",t[4])},i(t){C||(_t(f),_t(h.$$.fragment,t),_t(y.$$.fragment,t),_t(_.$$.fragment,t),_t(b.$$.fragment,t),C=!0)},o(t){wt(f),wt(h.$$.fragment,t),wt(y.$$.fragment,t),wt(_.$$.fragment,t),wt(b.$$.fragment,t),C=!1},d(t){t&&O(e),j[p].d(),jt(h),jt(y),jt(_),jt(b)}}}function fo(t,e,n){let s,{scene:r={}}=e,{remindersList:o=[]}=e,{number:l}=e,{writer:i}=e,c=!1,a=!1;const u={isOpen:!1,title:"Выберите напоминание"};return t.$$set=t=>{"scene"in t&&n(0,r=t.scene),"remindersList"in t&&n(1,o=t.remindersList),"number"in t&&n(2,l=t.number),"writer"in t&&n(3,i=t.writer)},t.$$.update=()=>{3&t.$$.dirty&&n(7,s=o.find((t=>t.id===r.reminders?.id))||{title:"не выбрано"})},[r,o,l,i,c,a,u,s,t=>i.addRemindersId(r,t),()=>{const t=r.steps.reduce(((t,e)=>{const n=e.message.map((t=>t.filename));return t=[...t,...n]}),[]);Le.update((e=>[...e,...t])),i.removeScene(r.id)},({detail:t})=>{n(4,c=t.state)},()=>n(6,u.isOpen=!0,u),({detail:t})=>{n(5,a=t.state)},()=>i.addStep(r.id)]}class mo extends Mt{constructor(t){super(),Rt(this,t,fo,po,i,{scene:0,remindersList:1,number:2,writer:3})}}function go(e){let n,s,r,o,l,i,c,a,u,d,$=`${e[1].toFixed(2)}mb from ${e[0].toFixed(2)}mb`;return{c(){n=T("div"),s=T("div"),r=U(e[3]),o=P(),l=T("progress"),i=U(e[2]),c=U("%"),a=P(),u=T("span"),d=U($),R(l,"id","files"),R(l,"max","100"),l.value=e[2],R(u,"class","svelte-zfr54i"),R(n,"class","progress")},m(t,e){S(t,n,e),k(n,s),k(s,r),k(n,o),k(n,l),k(l,i),k(l,c),k(n,a),k(n,u),k(u,d)},p(t,[e]){8&e&&A(r,t[3]),4&e&&A(i,t[2]),4&e&&(l.value=t[2]),3&e&&$!==($=`${t[1].toFixed(2)}mb from ${t[0].toFixed(2)}mb`)&&A(d,$)},i:t,o:t,d(t){t&&O(n)}}}function ho(t,e,n){let{total:s=0}=e,{loaded:r=0}=e,{loadedPercent:o=0}=e,{fileInProcess:l=""}=e;return t.$$set=t=>{"total"in t&&n(0,s=t.total),"loaded"in t&&n(1,r=t.loaded),"loadedPercent"in t&&n(2,o=t.loadedPercent),"fileInProcess"in t&&n(3,l=t.fileInProcess)},[s,r,o,l]}class vo extends Mt{constructor(t){super(),Rt(this,t,ho,go,i,{total:0,loaded:1,loadedPercent:2,fileInProcess:3})}}class yo{#s=[];#e=()=>{};#a=0;#u(t){return this.#s.findIndex((e=>e.id===t))}#d(t){return this.#s.find((e=>e.id===t))}init(t){this.#s=t.map((t=>(t.steps.map((e=>(e._parent=t,e.message.map((t=>(t._parent=e,t))),e))),t))),this.#e(!0)}addScene(){this.#s.push({id:this.#a++,steps:[],is_last:!1,reminders:null}),this.#e()}addRemindersId(t,e){t.reminders=e,this.#e()}subscribe(t){this.#e=e=>t({state:this.#s,couse:e?"init":"update"})}removeScene(t){const e=this.#u(t);this.#s.splice(e,1),this.#e()}addStep(t){const e=this.#d(t);e.steps.push({_parent:e,id:this.#a++,message:[],keyboard:[],transitionTrigger:null}),this.#e()}removeStep(t){const e=t._parent.steps.findIndex((e=>t.id===e.id));t._parent.steps.splice(e,1),this.#e()}addKeyboardToMsg(t,e){t.keyboard=e,this.#e()}removeKeyboardToMsg(t){t.keyboard=[],this.#e()}addTransitionTriggerToMsg(t,e){t.transitionTrigger=e,this.#e()}addPartToMsg(t,e){e.id=this.#a++,e._parent=t,t.message.push(e),t.message.sort(((t,e)=>t.order-e.order)),this.#e()}updPart(t,e,n){n(t.message.find((t=>t.id===e))),t.message.sort(((t,e)=>t.order-e.order)),this.#e()}removePart(t){const e=t._parent.message.findIndex((e=>e.id===t.id));t._parent.message.splice(e,1),this.#e()}removeScenario(){this.#s=[],this.#e()}}function xo(t,e,n){const s=t.slice();return s[13]=e[n],s[15]=n,s}function _o(t){let e;return{c(){e=U("Сохранить")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function wo(e){let n,s;return n=new jn({}),{c(){Ut(n.$$.fragment)},m(t,e){Pt(n,t,e),s=!0},p:t,i(t){s||(_t(n.$$.fragment,t),s=!0)},o(t){wt(n.$$.fragment,t),s=!1},d(t){jt(n,t)}}}function bo(t){let e,n,s=[],r=new Map,o=Ct(t[2]);const l=t=>t[13].id;for(let e=0;e<o.length;e+=1){let n=xo(t,o,e),i=l(n);r.set(i,s[e]=ko(i,n))}return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=j()},m(t,r){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,r);S(t,e,r),n=!0},p(t,n){140&n&&(o=Ct(t[2]),yt(),s=Ot(s,n,l,1,t,o,r,e.parentNode,St,ko,e,xo),xt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)_t(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)wt(s[t]);n=!1},d(t){t&&O(e);for(let e=0;e<s.length;e+=1)s[e].d(t)}}}function ko(t,e){let n,s,r;return s=new mo({props:{scene:e[13],remindersList:e[3],number:e[15]+1,writer:e[7]}}),{key:t,first:null,c(){n=j(),Ut(s.$$.fragment),this.first=n},m(t,e){S(t,n,e),Pt(s,t,e),r=!0},p(t,n){e=t;const r={};4&n&&(r.scene=e[13]),8&n&&(r.remindersList=e[3]),4&n&&(r.number=e[15]+1),s.$set(r)},i(t){r||(_t(s.$$.fragment,t),r=!0)},o(t){wt(s.$$.fragment,t),r=!1},d(t){t&&O(n),jt(s,t)}}}function Co(t){let e;return{c(){e=U("Добавить сцену")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function qo(t){let e,n;return e=new Ge({props:{theme:"delete",onClick:t[9],$$slots:{default:[So]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,n){const s={};65536&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function So(t){let e;return{c(){e=U("Удалить сценарий")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function Oo(t){let e,n,s,r,o,l,i,c,a,u,d,$,p,f,m;n=new vo({props:{total:t[1],fileInProcess:t[5],loaded:t[0],loadedPercent:t[6]}}),r=new Ge({props:{theme:"add",onClick:t[8],$$slots:{default:[_o]},$$scope:{ctx:t}}});const g=[bo,wo],h=[];function v(t,e){return t[2].length>0?0:1}a=v(t),u=h[a]=g[a](t),$=new Ge({props:{onClick:t[11],$$slots:{default:[Co]},$$scope:{ctx:t}}});let y=t[2].length&&qo(t);return{c(){e=T("div"),Ut(n.$$.fragment),s=P(),Ut(r.$$.fragment),o=P(),l=T("div"),i=T("div"),i.innerHTML='<div class="header-title svelte-qukw9c">Сцены</div> <div class="header-columns svelte-qukw9c"><div class="header-column center svelte-qukw9c">#</div> <div class="header-column svelte-qukw9c">Описание</div> <div class="header-column svelte-qukw9c"></div></div>',c=P(),u.c(),d=P(),Ut($.$$.fragment),p=P(),y&&y.c(),f=j(),R(e,"class","action-bar svelte-qukw9c"),D(e,"action-bar--hidden",!t[4]),R(i,"class","header"),R(l,"class","scenario svelte-qukw9c")},m(t,u){S(t,e,u),Pt(n,e,null),k(e,s),Pt(r,e,null),S(t,o,u),S(t,l,u),k(l,i),k(l,c),h[a].m(l,null),S(t,d,u),Pt($,t,u),S(t,p,u),y&&y.m(t,u),S(t,f,u),m=!0},p(t,s){const o={};2&s&&(o.total=t[1]),32&s&&(o.fileInProcess=t[5]),1&s&&(o.loaded=t[0]),64&s&&(o.loadedPercent=t[6]),n.$set(o);const i={};65536&s&&(i.$$scope={dirty:s,ctx:t}),r.$set(i),(!m||16&s)&&D(e,"action-bar--hidden",!t[4]);let c=a;a=v(t),a===c?h[a].p(t,s):(yt(),wt(h[c],1,1,(()=>{h[c]=null})),xt(),u=h[a],u?u.p(t,s):(u=h[a]=g[a](t),u.c()),_t(u,1),u.m(l,null));const d={};65536&s&&(d.$$scope={dirty:s,ctx:t}),$.$set(d),t[2].length?y?(y.p(t,s),4&s&&_t(y,1)):(y=qo(t),y.c(),_t(y,1),y.m(f.parentNode,f)):y&&(yt(),wt(y,1,1,(()=>{y=null})),xt())},i(t){m||(_t(n.$$.fragment,t),_t(r.$$.fragment,t),_t(u),_t($.$$.fragment,t),_t(y),m=!0)},o(t){wt(n.$$.fragment,t),wt(r.$$.fragment,t),wt(u),wt($.$$.fragment,t),wt(y),m=!1},d(t){t&&(O(e),O(o),O(l),O(d),O(p),O(f)),jt(n),jt(r),h[a].d(),jt($,t),y&&y.d(t)}}}function Lo(t){let e,n;return e=new Ne({props:{h1:"Сценарий",$$slots:{default:[Oo]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};65663&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function To(t,e,n){let s,r,o,l;a(t,Oe,(t=>n(10,o=t))),a(t,Le,(t=>n(12,l=t)));let i=[],c=[],u=!1,d=0,$="";const p=new yo;p.subscribe((({state:t,couse:e})=>{n(2,i=t),"init"!==e&&n(4,u=!0)}));Z((async()=>{n(3,c=await cn.reminders.list({preview:!0}));const t=await cn.scenario.get();p.init(t)}));return t.$$.update=()=>{1024&t.$$.dirty&&n(1,s=o.reduce(((t,e)=>e.size+t),0)),3&t.$$.dirty&&n(6,r=s>0?d/s*100:0)},[d,s,i,c,u,$,r,p,async()=>{await cn.scenario.set(pn(i,(t=>t.startsWith("_"))));const t=l.map((t=>cn.files.delete(t)));try{await Promise.all(t)}catch(t){console.error(t)}for(const{upload:t,size:e,filename:s}of o)try{n(5,$=s),await t(),n(0,d+=e)}catch(t){console.error(t)}n(1,s=0),n(0,d=0),n(5,$=""),n(4,u=!1)},async()=>{await cn.scenario.delete();const t=i.reduce(((t,e)=>{let n=[];return e.steps.forEach((t=>{const e=t.message.map((t=>t.filename));n=[...n,...e]})),[...t,...n]})).map((t=>cn.files.delete(t)));try{await Promise.all(t),p.removeScenario()}catch(t){console.error(t)}},o,()=>p.addScene()]}function Uo(t){let e,n,s,r,o,l,i,c,a,u,d,$,p,f,m,g,h,v,y,x,_,w,b,C,q=un(t[0])+"",L=t[0].scene+"",j=an(t[0].last_activity_time)+"";return v=new Xt({props:{to:`users/${t[0]._id}`,$$slots:{default:[Po]},$$scope:{ctx:t}}}),{c(){e=T("div"),n=T("div"),s=T("div"),r=T("span"),r.textContent="Name:",o=P(),l=U(q),i=P(),c=T("div"),a=T("span"),a.textContent="Current step:",u=P(),d=U(L),$=P(),p=T("div"),f=T("span"),f.textContent="Last activity:",m=P(),g=U(j),h=P(),Ut(v.$$.fragment),y=P(),x=T("div"),_=T("button"),_.textContent="Delete",R(r,"class","label svelte-1txjx3q"),R(s,"class","user__info svelte-1txjx3q"),D(s,"non-active",!t[0].is_active),R(a,"class","label svelte-1txjx3q"),R(c,"class","user__info"),R(f,"class","label svelte-1txjx3q"),R(p,"class","user__info"),R(n,"class","user__info-wrapper svelte-1txjx3q"),R(_,"class","button--delete svelte-1txjx3q"),R(x,"class","user_actions"),R(e,"class","user svelte-1txjx3q")},m(q,O){S(q,e,O),k(e,n),k(n,s),k(s,r),k(s,o),k(s,l),k(n,i),k(n,c),k(c,a),k(c,u),k(c,d),k(n,$),k(n,p),k(p,f),k(p,m),k(p,g),k(n,h),Pt(v,n,null),k(e,y),k(e,x),k(x,_),w=!0,b||(C=E(_,"click",t[2]),b=!0)},p(t,e){(!w||1&e)&&q!==(q=un(t[0])+"")&&A(l,q),(!w||1&e)&&D(s,"non-active",!t[0].is_active),(!w||1&e)&&L!==(L=t[0].scene+"")&&A(d,L),(!w||1&e)&&j!==(j=an(t[0].last_activity_time)+"")&&A(g,j);const n={};1&e&&(n.to=`users/${t[0]._id}`),8&e&&(n.$$scope={dirty:e,ctx:t}),v.$set(n)},i(t){w||(_t(v.$$.fragment,t),w=!0)},o(t){wt(v.$$.fragment,t),w=!1},d(t){t&&O(e),jt(v),b=!1,C()}}}function Po(t){let e;return{c(){e=U("Details")},m(t,n){S(t,e,n)},d(t){t&&O(e)}}}function jo(t){let e,n,s=Object.keys(t[0]).length>0,r=s&&Uo(t);return{c(){r&&r.c(),e=j()},m(t,s){r&&r.m(t,s),S(t,e,s),n=!0},p(t,[n]){1&n&&(s=Object.keys(t[0]).length>0),s?r?(r.p(t,n),1&n&&_t(r,1)):(r=Uo(t),r.c(),_t(r,1),r.m(e.parentNode,e)):r&&(yt(),wt(r,1,1,(()=>{r=null})),xt())},i(t){n||(_t(r),n=!0)},o(t){wt(r),n=!1},d(t){t&&O(e),r&&r.d(t)}}}function Eo(t,e,n){let{data:s={}}=e,{remove:r=(()=>{})}=e;return t.$$set=t=>{"data"in t&&n(0,s=t.data),"remove"in t&&n(1,r=t.remove)},[s,r,()=>r(s._id)]}class Ro extends Mt{constructor(t){super(),Rt(this,t,Eo,jo,i,{data:0,remove:1})}}function Mo(t,e,n){const s=t.slice();return s[2]=e[n],s}function zo(t){let e,n,s=[],r=new Map,o=Ct(t[0]);const l=t=>t[2]._id;for(let e=0;e<o.length;e+=1){let n=Mo(t,o,e),i=l(n);r.set(i,s[e]=Io(i,n))}return{c(){e=T("div");for(let t=0;t<s.length;t+=1)s[t].c();R(e,"class","user-list")},m(t,r){S(t,e,r);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);n=!0},p(t,n){3&n&&(o=Ct(t[0]),yt(),s=Ot(s,n,l,1,t,o,r,e,St,Io,null,Mo),xt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)_t(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)wt(s[t]);n=!1},d(t){t&&O(e);for(let t=0;t<s.length;t+=1)s[t].d()}}}function Io(t,e){let n,s,r;return s=new Ro({props:{data:e[2],remove:e[1]}}),{key:t,first:null,c(){n=j(),Ut(s.$$.fragment),this.first=n},m(t,e){S(t,n,e),Pt(s,t,e),r=!0},p(t,n){e=t;const r={};1&n&&(r.data=e[2]),s.$set(r)},i(t){r||(_t(s.$$.fragment,t),r=!0)},o(t){wt(s.$$.fragment,t),r=!1},d(t){t&&O(n),jt(s,t)}}}function No(t){let e,n,s=t[0]?.length&&zo(t);return{c(){e=T("section"),s&&s.c()},m(t,r){S(t,e,r),s&&s.m(e,null),n=!0},p(t,n){t[0]?.length?s?(s.p(t,n),1&n&&_t(s,1)):(s=zo(t),s.c(),_t(s,1),s.m(e,null)):s&&(yt(),wt(s,1,1,(()=>{s=null})),xt())},i(t){n||(_t(s),n=!0)},o(t){wt(s),n=!1},d(t){t&&O(e),s&&s.d()}}}function Ao(t){let e,n;return e=new Ne({props:{h1:"Участники марафона",$$slots:{default:[No]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};33&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function Bo(t,e,n){let s=[];(async()=>{n(0,s=await cn.users.list())})();return[s,async t=>{if(confirm("Вы уверены что хотите удалить пользователя? Это действие невозможно будет отменить."))try{await cn.users.delete(t),n(0,s=s.filter((e=>e._id!==t)))}catch(t){console.error(t)}}]}function Wo(t,e,n){const s=t.slice();return s[2]=e[n],s[4]=n,s}function Do(t,e,n){const s=t.slice();return s[5]=e[n],s[4]=n,s}function Ho(e){let n;return{c(){n=T("div"),n.textContent="Loading..."},m(t,e){S(t,n,e)},p:t,d(t){t&&O(n)}}}function Fo(t){let e,n,s,r,o,l,i,c,a,u,d,$,p,f,m,g,h,v,y,x,_,w,b,C,q,j,E,M,z,I,N,B,W,H,F,G,K=un(t[0])+"",J=t[0].date_of_joining+"",Y=t[0].scene+"",Q=an(t[0].last_activity_time)+"",V=t[0].is_completed?"Yes":"No",X=t[0].username&&Go(t),Z=Ct(t[0].scene_duration),tt=[];for(let e=0;e<Z.length;e+=1)tt[e]=Ko(Do(t,Z,e));let et=Ct(t[0].scene_message),nt=[];for(let e=0;e<et.length;e+=1)nt[e]=Jo(Wo(t,et,e));return{c(){e=T("div"),n=T("div"),s=T("span"),s.textContent="Name:",r=P(),o=U(K),l=P(),X&&X.c(),i=P(),c=T("div"),a=T("span"),a.textContent="Joining:",u=P(),d=U(J),$=P(),p=T("div"),f=T("span"),f.textContent="Current step:",m=P(),g=U(Y),h=P(),v=T("div"),y=T("span"),y.textContent="Last activity:",x=P(),_=U(Q),w=P(),b=T("div"),C=T("span"),C.textContent="Is the marathon over:",q=P(),j=U(V),E=P(),M=T("div"),z=T("span"),z.textContent="Time for steps:",I=P(),N=T("ul");for(let t=0;t<tt.length;t+=1)tt[t].c();B=P(),W=T("div"),H=T("span"),H.textContent="Messages:",F=P(),G=T("ul");for(let t=0;t<nt.length;t+=1)nt[t].c();R(s,"class","label svelte-1cr32ds"),R(n,"class","user__title-name svelte-1cr32ds"),D(n,"non-active",!t[0].is_active),R(a,"class","label svelte-1cr32ds"),R(c,"class","user__title-elem"),R(f,"class","label svelte-1cr32ds"),R(p,"class","user__title-step"),R(y,"class","label svelte-1cr32ds"),R(v,"class","user__title-elem"),R(C,"class","label svelte-1cr32ds"),R(b,"class","user__title-elem"),R(z,"class","label svelte-1cr32ds"),R(M,"class","user__title-elem"),R(H,"class","label svelte-1cr32ds"),R(W,"class","user__title-elem"),R(e,"class","user__title")},m(t,O){S(t,e,O),k(e,n),k(n,s),k(n,r),k(n,o),k(e,l),X&&X.m(e,null),k(e,i),k(e,c),k(c,a),k(c,u),k(c,d),k(e,$),k(e,p),k(p,f),k(p,m),k(p,g),k(e,h),k(e,v),k(v,y),k(v,x),k(v,_),k(e,w),k(e,b),k(b,C),k(b,q),k(b,j),k(e,E),k(e,M),k(M,z),k(M,I),k(M,N);for(let t=0;t<tt.length;t+=1)tt[t]&&tt[t].m(N,null);k(e,B),k(e,W),k(W,H),k(W,F),k(W,G);for(let t=0;t<nt.length;t+=1)nt[t]&&nt[t].m(G,null)},p(t,s){if(1&s&&K!==(K=un(t[0])+"")&&A(o,K),1&s&&D(n,"non-active",!t[0].is_active),t[0].username?X?X.p(t,s):(X=Go(t),X.c(),X.m(e,i)):X&&(X.d(1),X=null),1&s&&J!==(J=t[0].date_of_joining+"")&&A(d,J),1&s&&Y!==(Y=t[0].scene+"")&&A(g,Y),1&s&&Q!==(Q=an(t[0].last_activity_time)+"")&&A(_,Q),1&s&&V!==(V=t[0].is_completed?"Yes":"No")&&A(j,V),1&s){let e;for(Z=Ct(t[0].scene_duration),e=0;e<Z.length;e+=1){const n=Do(t,Z,e);tt[e]?tt[e].p(n,s):(tt[e]=Ko(n),tt[e].c(),tt[e].m(N,null))}for(;e<tt.length;e+=1)tt[e].d(1);tt.length=Z.length}if(1&s){let e;for(et=Ct(t[0].scene_message),e=0;e<et.length;e+=1){const n=Wo(t,et,e);nt[e]?nt[e].p(n,s):(nt[e]=Jo(n),nt[e].c(),nt[e].m(G,null))}for(;e<nt.length;e+=1)nt[e].d(1);nt.length=et.length}},d(t){t&&O(e),X&&X.d(),L(tt,t),L(nt,t)}}}function Go(t){let e,n,s,r,o,l,i=t[0].username+"";return{c(){e=T("div"),n=T("span"),n.textContent="Login:",s=P(),r=T("a"),o=U(i),R(n,"class","label svelte-1cr32ds"),R(r,"target","_blank"),R(r,"href",l=`https://t.me/${t[0].username}`),R(e,"class","user__title-login")},m(t,l){S(t,e,l),k(e,n),k(e,s),k(e,r),k(r,o)},p(t,e){1&e&&i!==(i=t[0].username+"")&&A(o,i),1&e&&l!==(l=`https://t.me/${t[0].username}`)&&R(r,"href",l)},d(t){t&&O(e)}}}function Ko(t){let e,n,s,r,o,l=t[5].scene+"",i=dn(t[5])+"";return{c(){e=T("li"),n=U("Step "),s=U(l),r=U(": "),o=U(i)},m(t,l){S(t,e,l),k(e,n),k(e,s),k(e,r),k(e,o)},p(t,e){1&e&&l!==(l=t[5].scene+"")&&A(s,l),1&e&&i!==(i=dn(t[5])+"")&&A(o,i)},d(t){t&&O(e)}}}function Jo(t){let e,n,s,r,o,l,i,c,a,u,d,$,p,f,m=t[2].scene+"",g=an(t[2].datestamp)+"",h=t[2].text+"";return{c(){e=T("li"),n=T("div"),s=T("span"),s.textContent="Step:",r=P(),o=U(m),l=P(),i=T("div"),c=T("span"),c.textContent="Time:",a=P(),u=U(g),d=P(),$=T("div"),p=U(h),f=P(),R(s,"class","label svelte-1cr32ds"),R(c,"class","label svelte-1cr32ds")},m(t,m){S(t,e,m),k(e,n),k(n,s),k(n,r),k(n,o),k(e,l),k(e,i),k(i,c),k(i,a),k(i,u),k(e,d),k(e,$),k($,p),k(e,f)},p(t,e){1&e&&m!==(m=t[2].scene+"")&&A(o,m),1&e&&g!==(g=an(t[2].datestamp)+"")&&A(u,g),1&e&&h!==(h=t[2].text+"")&&A(p,h)},d(t){t&&O(e)}}}function Yo(t){let e,n;function s(t,e){return 1&e&&(n=null),null==n&&(n=!!(Object.keys(t[0]).length>0)),n?Fo:Ho}let r=s(t,-1),o=r(t);return{c(){e=T("section"),o.c(),R(e,"class","user svelte-1cr32ds")},m(t,n){S(t,e,n),o.m(e,null)},p(t,n){r===(r=s(t,n))&&o?o.p(t,n):(o.d(1),o=r(t),o&&(o.c(),o.m(e,null)))},d(t){t&&O(e),o.d()}}}function Qo(t){let e,n;return e=new Ne({props:{h1:"О пользователе",$$slots:{default:[Yo]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};129&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function Vo(t,e,n){let{id:s}=e,r={};return(async()=>{n(0,r=await cn.users.info(s))})(),t.$$set=t=>{"id"in t&&n(1,s=t.id)},[r,s]}const Xo=[{path:"/",component:class extends Mt{constructor(t){super(),Rt(this,t,null,Be,i,{})}},title:"Главная"},{path:"/aliases",component:class extends Mt{constructor(t){super(),Rt(this,t,qn,Cn,i,{})}},title:"Кнопки"},{path:"/reminders",component:class extends Mt{constructor(t){super(),Rt(this,t,Fs,Hs,i,{})}},title:"Напоминания"},{path:"/scenario",component:class extends Mt{constructor(t){super(),Rt(this,t,To,Lo,i,{})}},title:"Сценарий"},{path:"/users",component:class extends Mt{constructor(t){super(),Rt(this,t,Bo,Ao,i,{})}},title:"Список пользователей"},{path:"/users/:id",component:class extends Mt{constructor(t){super(),Rt(this,t,Vo,Qo,i,{id:1})}},title:"О пользователе",isHidden:!0},{path:"/auth",component:class extends Mt{constructor(t){super(),Rt(this,t,Tn,Ln,i,{})}},title:"Авторизация",isHidden:!0}];function Zo(t,e,n){const s=t.slice();return s[0]=e[n],s}function tl(e,n){let s,r,o;return r=new ae({props:{path:n[0].path,component:n[0].component}}),{key:e,first:null,c(){s=j(),Ut(r.$$.fragment),this.first=s},m(t,e){S(t,s,e),Pt(r,t,e),o=!0},p:t,i(t){o||(_t(r.$$.fragment,t),o=!0)},o(t){wt(r.$$.fragment,t),o=!1},d(t){t&&O(s),jt(r,t)}}}function el(e){let n,s,r=[],o=new Map,l=Ct(Xo);const i=t=>t[0].path;for(let t=0;t<l.length;t+=1){let n=Zo(e,l,t),s=i(n);o.set(s,r[t]=tl(s,n))}return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=j()},m(t,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(t,e);S(t,n,e),s=!0},p:t,i(t){if(!s){for(let t=0;t<l.length;t+=1)_t(r[t]);s=!0}},o(t){for(let t=0;t<r.length;t+=1)wt(r[t]);s=!1},d(t){t&&O(n);for(let e=0;e<r.length;e+=1)r[e].d(t)}}}function nl(t){let e,n;return e=new Ce({props:{basepath:"/admin",$$slots:{default:[el]},$$scope:{ctx:t}}}),{c(){Ut(e.$$.fragment)},m(t,s){Pt(e,t,s),n=!0},p(t,[n]){const s={};8&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(_t(e.$$.fragment,t),n=!0)},o(t){wt(e.$$.fragment,t),n=!1},d(t){jt(e,t)}}}function sl(t){return(async()=>{try{const{is_auth:t}=await cn.auth.status();Se.set(t)}catch(t){console.error(t)}})(),[]}return new class extends Mt{constructor(t){super(),Rt(this,t,sl,nl,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
